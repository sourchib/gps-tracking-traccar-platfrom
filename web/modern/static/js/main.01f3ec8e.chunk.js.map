{"version":3,"sources":["../public/images/icon/ignition.svg","store/session.js","store/devices.js","store/positions.js","store/geofences.js","store/groups.js","store/drivers.js","store/maintenances.js","store/index.js","common/localization.js","RemoveDialog.js","EditCollectionView.js","reactHelper.js","common/formatter.js","common/selectors.js","DevicesList.js","map/switcher/switcher.js","common/deviceCategories.js","map/mapUtil.js","map/mapStyles.js","common/preferences.js","theme/palette.js","map/Map.js","map/SelectedDeviceMap.js","map/StatusView.js","theme/dimensions.js","theme/overrides.js","theme/index.js","map/AccuracyMap.js","map/GeofenceMap.js","map/PositionsMap.js","map/CurrentPositionsMap.js","map/CurrentLocationMap.js","components/BottomNav.js","MainPage.js","reports/ReportFilter.js","components/SideNav.js","components/NavBar.js","reports/ReportLayout.js","reports/RouteReportPage.js","attributes/AddAttributeDialog.js","attributes/EditAttributesView.js","attributes/deviceAttributes.js","attributes/userAttributes.js","settings/OptionsLayout/useRoutes.js","settings/OptionsLayout/index.js","admin/ServerPage.js","admin/UsersPage.js","EditItemView.js","form/SelectField.js","form/LinkField.js","common/stringUtils.js","DevicePage.js","UserPage.js","SocketController.js","settings/NotificationsPage.js","settings/NotificationPage.js","settings/GroupsPage.js","settings/GroupPage.js","MainToolbar.js","PositionPage.js","reports/EventReportPage.js","map/ReplayPathMap.js","reports/ReplayPage.js","reports/TripReportPage.js","reports/StopReportPage.js","reports/SummaryReportPage.js","reports/Graph.js","common/converter.js","reports/ChartReportPage.js","settings/DriversPage.js","settings/DriverPage.js","settings/ComputedAttributesPage.js","attributes/positionAttributes.js","settings/ComputedAttributePage.js","settings/MaintenancesPage.js","settings/MaintenancePage.js","admin/StatisticsPage.js","CachingController.js","StartPage.js","components/registration/LoginForm.js","components/registration/RegisterForm.js","components/registration/ResetPasswordForm.js","map/GeofenceEditMap.js","GeofencesList.js","GeofencesPage.js","attributes/geofenceAttributes.js","GeofencePage.js","App.js","serviceWorker.js","index.js"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","title","props","createElement","width","height","viewBox","fill","ref","fillRule","clipRule","d","ForwardRef","forwardRef","createSlice","name","initialState","server","user","reducers","updateServer","state","action","payload","updateUser","reducer","actions","items","selectedId","refresh","forEach","item","id","update","select","remove","deviceId","combineReducers","session","devices","positions","geofences","groups","drivers","maintenances","configureStore","supportedLanguages","af","data","ar","az","bg","bn","cs","de","da","el","en","es","fa","fi","fr","he","hi","hr","hu","it","ja","ka","kk","ko","km","lo","lt","lv","ml","mn","ms","nb","ne","nl","nn","pl","pt","pt_BR","ro","ru","si","sk","sl","sq","sr","sv","ta","th","tr","uk","uz","vi","zh","zh_TW","languages","undefined","window","navigator","slice","language","userLanguage","push","substring","replace","selectedLanguage","RemoveDialog","open","endpoint","itemId","onResult","handleRemove","a","fetch","method","ok","Dialog","onClose","DialogContent","DialogContentText","t","DialogActions","Button","color","onClick","autoFocus","useStyles","makeStyles","theme","fab","position","bottom","spacing","right","EditCollectionView","content","editPath","disableAdd","classes","history","useHistory","useState","setSelectedId","selectedAnchorEl","setSelectedAnchorEl","removeDialogShown","setRemoveDialogShown","Date","now","updateTimestamp","setUpdateTimestamp","adminEnabled","useSelector","administrator","menuHide","Content","onMenuClick","anchorId","Fab","size","className","Menu","anchorEl","MenuItem","useEffectAsync","effect","deps","useEffect","formatBoolean","value","formatDate","format","moment","formatPosition","toFixed","precision","Number","formatNumber","formatDistance","unit","formatSpeed","formatVolume","formatHours","duration","humanize","formatCoordinate","hemisphere","degrees","minutes","seconds","Math","abs","floor","round","getStatusColor","status","getIsAdmin","getUserId","getDevices","values","getPosition","list","maxHeight","listInner","margin","icon","filter","listItem","backgroundColor","batteryText","fontSize","fontWeight","lineHeight","green","palette","common","red","gray","indicators","DeviceRow","batteryLevel","index","style","dispatch","useDispatch","showIgnition","attributes","ignition","ListItem","button","devicesActions","ListItemAvatar","Avatar","src","category","alt","ListItemText","primary","secondary","ListItemSecondaryAction","Grid","container","direction","alignItems","alignContent","SvgIcon","component","IgnitionIcon","xs","DeviceView","listInnerEl","useRef","current","response","json","List","disablePadding","itemCount","itemData","itemSize","overscanCount","innerRef","DevicesList","SwitcherControl","styles","defaultStyle","beforeSwitch","afterSwitch","onDocumentClick","bind","map","controlContainer","document","classList","add","mapStyleContainer","styleButton","type","styleElement","innerText","dataset","uri","JSON","stringify","addEventListener","event","srcElement","contains","setStyle","parse","display","elms","getElementsByClassName","appendChild","parentNode","removeEventListener","removeChild","loadImage","url","Promise","imageLoaded","image","Image","onload","prepareIcon","background","pixelRatio","devicePixelRatio","canvas","context","getContext","drawImage","imageWidth","imageHeight","canvasTintImage","getImageData","reverseCoordinates","Array","isArray","isNaN","coordinates","geofenceToFeature","area","trim","split","polygon","circle","steps","units","geometry","properties","geometryToArea","styleMapbox","useAttributePreference","defaultValue","forceSettings","purple","main","contrastText","colors","element","maplibregl","Map","version","sources","osm","tiles","attribution","tileSize","glyphs","layers","ready","readyListeners","Set","updateReadyValue","listener","initMap","addImage","all","deviceCategories","results","then","on","addControl","NavigationControl","showCompass","minzoom","maxzoom","waiting","loaded","setTimeout","popup","children","containerEl","mapReady","setMapReady","mapboxAccessToken","accessToken","addReadyListener","delete","removeReadyListener","useLayoutEffect","currentEl","resize","paper","listItemContainer","maxWidth","StatusView","onShowDetails","onShowHistory","onEditClick","device","distanceUnit","speedUnit","Paper","elevation","square","speed","totalDistance","course","e","preventDefault","IconButton","inputHeight","borderRadius","sidebarWidth","sidebarWidthTablet","drawerWidthDesktop","drawerWidthTablet","columnWidthDate","columnWidthNumber","columnWidthString","columnWidthBoolean","bottomNavMaxWidth","MuiFormControl","root","marginTop","marginBottom","MuiInputLabel","filled","transform","MuiFilledInput","dimensions","input","paddingTop","boxSizing","WebkitBoxShadow","underline","borderBottom","MuiButton","opacity","contained","MuiFormHelperText","marginLeft","MuiAutocomplete","inputRoot","createMuiTheme","overrides","SelectedDeviceMap","mapCenter","longitude","latitude","easeTo","center","placeholder","ReactDOM","render","store","ThemeProvider","positionId","Popup","offset","anchor","closeOnClick","setDOMContent","setLngLat","addTo","showStatus","AccuracyMap","features","accuracy","addSource","addLayer","paint","removeLayer","removeSource","getSource","setData","GeofenceMap","layout","PositionsMap","clusters","deviceColor","createFeature","onMouseEnter","getCanvas","cursor","onMouseLeave","onMarkerClick","useCallback","feature","lngLat","lng","onClusterClick","queryRenderedFeatures","point","clusterId","cluster_id","getClusterExpansionZoom","error","zoom","cluster","clusterMaxZoom","clusterRadius","from","getContainer","off","CurrentPositionsMap","CurrentLocationMap","control","GeolocateControl","positionOptions","enableHighAccuracy","timeout","trackUserLocation","removeControl","left","zIndex","breakpoints","up","toolbar","padding","justifyContent","navItem","flexDirection","BottomNav","showOnDesktop","useTheme","isDesktop","useMediaQuery","NavLink","location","Link","label","to","handleLogout","sessionActions","Toolbar","disableGutters","sidebar","top","transition","down","sidebarCollapsed","deviceList","flex","sidebarToggle","minWidth","sidebarToggleText","only","sidebarToggleBg","MainPage","isTablet","isPhone","deviceName","setDeviceName","collapsed","setCollapsed","handleClose","variant","containedPrimary","disableElevation","TextField","fullWidth","autoComplete","onChange","ReportFilter","handleSubmit","showOnly","setDeviceId","period","setPeriod","subtract","setFrom","setTo","handleClick","mail","selectedFrom","selectedTo","startOf","endOf","accept","toISOString","Accept","justify","sm","FormControl","InputLabel","Select","HTML5_FMT","DATETIME_LOCAL","Typography","noWrap","SideNav","routes","useLocation","route","subheader","Divider","ListSubheader","disableRipple","href","selected","pathname","match","ListItemIcon","Navbar","setOpenDrawer","AppBar","aria-label","edge","drawerContainer","drawer","drawerHeader","mixins","backArrowIconContainer","ReportLayout","openDrawer","reportTitle","setReportTitle","pageTitle","Hidden","NavBar","Drawer","Filter","setItems","headers","query","URLSearchParams","toString","contentType","get","URL","blob","createObjectURL","RouteReportPage","coordinateFormat","columns","headerName","field","valueFormatter","valueGetter","row","hide","rows","hideFooter","autoHeight","AddAttributeDialog","definitions","createFilterOptions","option","options","entries","setKey","setType","Autocomplete","_","filterOptions","params","filtered","inputValue","getOptionLabel","renderOption","freeSolo","renderInput","disabled","addButton","removeButton","marginRight","EditAttributesView","setAttributes","addDialogShown","setAddDialogShown","updateAttribute","updatedAttributes","deleteAttribute","getAttributeName","definition","booleanList","otherList","getAttributeType","concat","convertToList","FormControlLabel","Checkbox","checked","FilledInput","endAdornment","InputAdornment","startIcon","speedLimit","notificationTokens","volumeUnit","timezone","accountRoute","adminRoutes","mainRoutes","OptionsLayout","optionTitle","setOptionTitle","isAdmin","userId","useMemo","useRoutes","activeRoute","find","lgUp","mdDown","buttons","flexBasis","details","ServerPage","setItem","updatedItem","handleSave","body","goBack","Container","Accordion","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","announcement","registration","readonly","deviceReadonly","limitCommands","userAttributes","deviceAttributes","columnAction","UsersView","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","currentTarget","email","UsersPage","EditItemView","useParams","SelectField","multiple","emptyValue","keyGetter","titleGetter","LinkField","endpointAll","endpointLinked","baseId","keyBase","keyLink","linked","setLinked","createBody","linkId","oldValue","newValue","includes","added","removed","prefixString","prefix","charAt","toUpperCase","DevicePage","uniqueId","groupId","phone","model","contact","c","description","UserPage","password","connect","authenticated","connectSocket","protocol","socket","WebSocket","host","onclose","onmessage","positionsActions","events","displayNotifications","Notification","permission","notification","close","requestPermission","NotificationsView","formatList","Boolean","join","always","alarms","notificators","NotificationsPage","NotificationPage","predicate","startsWith","toLowerCase","GroupsView","GroupsPage","GroupPage","flexGrow","appBar","menuButton","MainToolbar","setDrawer","selectors","closeDrawer","tabIndex","role","onKeyDown","PositionPage","formatKey","combinedList","attributesList","eventTypes","setEventTypes","append","EventReportPage","geofence","formatGeofence","ReplayPathMap","bounds","reduce","extend","LngLatBounds","fitBounds","controlPanel","controlContent","configForm","TimeLabel","Tooltip","enterTouchDelay","placement","ReplayPage","expanded","setExpanded","setPositions","setIndex","Slider","max","step","marks","valueLabelDisplay","valueLabelFormat","ValueLabelComponent","align","TripReportPage","getRowId","random","StopReportPage","daily","setDaily","SummaryReportPage","CustomizedAxisTick","x","y","parts","dy","textAnchor","withWidth","ResponsiveContainer","debounce","LineChart","XAxis","dataKey","tick","YAxis","CartesianGrid","strokeDasharray","Legend","Line","speedConverter","distanceConverter","speedFromKnots","formattedPositions","altitude","fixTime","ChartType","ChartReportPage","DriversView","DriversPage","DriverPage","ComputedAttributeView","attribute","expression","ComputedAttributesPage","raw","odometer","dataType","ComputedAttributePage","positionAttributes","positionAttribute","multiline","MaintenancesView","convertAttribute","start","MaintenacesPage","MaintenancePage","labels","setLabels","rawToValue","distanceFromMeters","valueToRaw","speedToKnots","distanceToMeters","InputProps","StatisticsPage","captureTime","activeUsers","activeDevices","requests","messagesReceived","messagesStored","mailSent","smsSent","geocoderRequests","geolocationRequests","geofencesActions","groupsActions","driversActions","maintenancesActions","paddingBottom","boxShadow","form","StartPage","xlinkHref","logoContainer","textAlign","resetPassword","LoginForm","failed","setFailed","setEmail","setPassword","registrationEnabled","emailEnabled","handleLogin","encodeURIComponent","handleSpecialKey","keyCode","required","onKeyUp","helperText","register","textTransform","link","RegisterForm","setName","snackbarOpen","setSnackbarOpen","handleRegister","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","test","ResetPasswordForm","draw","MapboxDraw","displayControlsDefault","controls","trash","userProperties","GeofenceEditMap","refreshGeofences","newItem","deleteAll","overflow","GeofenceView","GeofencesList","drawerPaper","mapContainer","isWidthUp","GeofencePage","geofenceAttributes","App","initialized","CssBaseline","exact","path","GeofencesPage","MaintenancesPage","LinearProgress","isLocalhost","hostname","registerValidSW","swUrl","config","serviceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","getElementById","process","origin","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.01f3ec8e.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgIgnition = function SvgIgnition(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M17 8H19.5C19.81 8 20.11 8.15 20.3 8.4L22.6 11.47C22.86 11.82 23 12.24 23 12.67V16C23 16.55 22.55 17 22 17H21C21 18.66 19.66 20 18 20C16.34 20 15 18.66 15 17H9C9 18.66 7.66 20 6 20C4.34 20 3 18.66 3 17C1.9 17 1 16.1 1 15V6C1 4.9 1.9 4 3 4H15C16.1 4 17 4.9 17 6V8ZM5 17C5 17.55 5.45 18 6 18C6.55 18 7 17.55 7 17C7 16.45 6.55 16 6 16C5.45 16 5 16.45 5 17ZM21.46 12L19.5 9.5H17V12H21.46ZM17 17C17 17.55 17.45 18 18 18C18.55 18 19 17.55 19 17C19 16.45 18.55 16 18 16C17.45 16 17 16.45 17 17ZM7.7704 16.1299L8.3613 16.2341C8.3613 16.2341 9.91885 14.1732 13.0446 10.0602L13.1033 9.96899C13.1774 9.86019 13.1742 9.63624 12.8847 9.58519L10.8165 9.22052L12.2178 4.72894L11.6269 4.62475C10.789 5.73304 10.0364 6.72746 9.36924 7.60897C8.4039 8.88444 7.61745 9.92355 7.01063 10.7292C6.99419 10.7534 7.10701 10.5973 6.95538 10.8007C6.80375 11.0041 6.7608 11.2132 7.10352 11.2736L9.17166 11.6383L7.7704 16.1299Z\",\n    fill: \"#F3A813\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIgnition, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ignition.980c0bdb.svg\";\nexport { ForwardRef as ReactComponent };","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'session',\n  initialState: {\n    server: null,\n    user: null,\n  },\n  reducers: {\n    updateServer(state, action) {\n      state.server = action.payload;\n    },\n    updateUser(state, action) {\n      state.user = action.payload;\n    },\n  },\n});\n\nexport { actions as sessionActions };\nexport { reducer as sessionReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'devices',\n  initialState: {\n    items: {},\n    selectedId: null,\n  },\n  reducers: {\n    refresh(state, action) {\n      state.items = {};\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n    select(state, action) {\n      state.selectedId = action.payload.id;\n    },\n    remove(state, action) {\n      delete state.items[action.payload];\n    },\n  },\n});\n\nexport { actions as devicesActions };\nexport { reducer as devicesReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'positions',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.deviceId] = item);\n    },\n  },\n});\n\nexport { actions as positionsActions };\nexport { reducer as positionsReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'geofences',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    refresh(state, action) {\n      state.items = {};\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n  },\n});\n\nexport { actions as geofencesActions };\nexport { reducer as geofencesReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'groups',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n  },\n});\n\nexport { actions as groupsActions };\nexport { reducer as groupsReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'drivers',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n  },\n});\n\nexport { actions as driversActions };\nexport { reducer as driversReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'maintenances',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n  },\n});\n\nexport { actions as maintenancesActions };\nexport { reducer as maintenancesReducer };\n","import { combineReducers, configureStore } from '@reduxjs/toolkit';\n\nimport { sessionReducer as session } from './session';\nimport { devicesReducer as devices } from './devices';\nimport { positionsReducer as positions } from './positions';\nimport { geofencesReducer as geofences } from './geofences';\nimport { groupsReducer as groups } from './groups';\nimport { driversReducer as drivers } from './drivers';\nimport { maintenancesReducer as maintenances } from './maintenances';\n\nconst reducer = combineReducers({\n  session,\n  devices,\n  positions,\n  geofences,\n  groups,\n  drivers,\n  maintenances,\n});\n\nexport { sessionActions } from './session';\nexport { devicesActions } from './devices';\nexport { positionsActions } from './positions';\nexport { geofencesActions } from './geofences';\nexport { groupsActions } from './groups';\nexport { driversActions } from './drivers';\nexport { maintenancesActions } from './maintenances';\n\nexport default configureStore({ reducer });\n","import af from '../../../web/l10n/af.json';\nimport ar from '../../../web/l10n/ar.json';\nimport az from '../../../web/l10n/az.json';\nimport bg from '../../../web/l10n/bg.json';\nimport bn from '../../../web/l10n/bn.json';\nimport cs from '../../../web/l10n/cs.json';\nimport da from '../../../web/l10n/da.json';\nimport de from '../../../web/l10n/de.json';\nimport el from '../../../web/l10n/el.json';\nimport en from '../../../web/l10n/en.json';\nimport es from '../../../web/l10n/es.json';\nimport fa from '../../../web/l10n/fa.json';\nimport fi from '../../../web/l10n/fi.json';\nimport fr from '../../../web/l10n/fr.json';\nimport he from '../../../web/l10n/he.json';\nimport hi from '../../../web/l10n/hi.json';\nimport hr from '../../../web/l10n/hr.json';\nimport hu from '../../../web/l10n/hu.json';\nimport id from '../../../web/l10n/id.json';\nimport it from '../../../web/l10n/it.json';\nimport ja from '../../../web/l10n/ja.json';\nimport ka from '../../../web/l10n/ka.json';\nimport kk from '../../../web/l10n/kk.json';\nimport km from '../../../web/l10n/km.json';\nimport ko from '../../../web/l10n/ko.json';\nimport lo from '../../../web/l10n/lo.json';\nimport lt from '../../../web/l10n/lt.json';\nimport lv from '../../../web/l10n/lv.json';\nimport ml from '../../../web/l10n/ml.json';\nimport mn from '../../../web/l10n/mn.json';\nimport ms from '../../../web/l10n/ms.json';\nimport nb from '../../../web/l10n/nb.json';\nimport ne from '../../../web/l10n/ne.json';\nimport nl from '../../../web/l10n/nl.json';\nimport nn from '../../../web/l10n/nn.json';\nimport pl from '../../../web/l10n/pl.json';\nimport pt from '../../../web/l10n/pt.json';\nimport pt_BR from '../../../web/l10n/pt_BR.json';\nimport ro from '../../../web/l10n/ro.json';\nimport ru from '../../../web/l10n/ru.json';\nimport si from '../../../web/l10n/si.json';\nimport sk from '../../../web/l10n/sk.json';\nimport sl from '../../../web/l10n/sl.json';\nimport sq from '../../../web/l10n/sq.json';\nimport sr from '../../../web/l10n/sr.json';\nimport sv from '../../../web/l10n/sv.json';\nimport ta from '../../../web/l10n/ta.json';\nimport th from '../../../web/l10n/th.json';\nimport tr from '../../../web/l10n/tr.json';\nimport uk from '../../../web/l10n/uk.json';\nimport uz from '../../../web/l10n/uz.json';\nimport vi from '../../../web/l10n/vi.json';\nimport zh from '../../../web/l10n/zh.json';\nimport zh_TW from '../../../web/l10n/zh_TW.json';\n\nconst supportedLanguages = {\n  af: { data: af, name: 'Afrikaans' },\n  ar: { data: ar, name: '' },\n  az: { data: az, name: 'Azrbaycanca' },\n  bg: { data: bg, name: '' },\n  bn: { data: bn, name: '' },\n  cs: { data: cs, name: 'etina' },\n  de: { data: de, name: 'Deutsch' },\n  da: { data: da, name: 'Dansk' },\n  el: { data: el, name: '' },\n  en: { data: en, name: 'English' },\n  es: { data: es, name: 'Espaol' },\n  fa: { data: fa, name: '' },\n  fi: { data: fi, name: 'Suomi' },\n  fr: { data: fr, name: 'Franais' },\n  he: { data: he, name: '' },\n  hi: { data: hi, name: '' },\n  hr: { data: hr, name: 'Hrvatski' },\n  hu: { data: hu, name: 'Magyar' },\n  id: { data: id, name: 'Bahasa Indonesia' },\n  it: { data: it, name: 'Italiano' },\n  ja: { data: ja, name: '' },\n  ka: { data: ka, name: '' },\n  kk: { data: kk, name: '' },\n  ko: { data: ko, name: '' },\n  km: { data: km, name: '' },\n  lo: { data: lo, name: '' },\n  lt: { data: lt, name: 'Lietuvi' },\n  lv: { data: lv, name: 'Latvieu' },\n  ml: { data: ml, name: '' },\n  mn: { data: mn, name: ' ' },\n  ms: { data: ms, name: ' ' },\n  nb: { data: nb, name: 'Norsk bokml' },\n  ne: { data: ne, name: '' },\n  nl: { data: nl, name: 'Nederlands' },\n  nn: { data: nn, name: 'Norsk nynorsk' },\n  pl: { data: pl, name: 'Polski' },\n  pt: { data: pt, name: 'Portugus' },\n  pt_BR: { data: pt_BR, name: 'Portugus (Brasil)' },\n  ro: { data: ro, name: 'Romn' },\n  ru: { data: ru, name: '' },\n  si: { data: si, name: '' },\n  sk: { data: sk, name: 'Slovenina' },\n  sl: { data: sl, name: 'Slovenina' },\n  sq: { data: sq, name: 'Shqipria' },\n  sr: { data: sr, name: 'Srpski' },\n  sv: { data: sv, name: 'Svenska' },\n  ta: { data: ta, name: '' },\n  th: { data: th, name: '' },\n  tr: { data: tr, name: 'Trke' },\n  uk: { data: uk, name: '' },\n  uz: { data: uz, name: 'Ozbekcha' },\n  vi: { data: vi, name: 'Ting Vit' },\n  zh: { data: zh, name: '' },\n  zh_TW: { data: zh_TW, name: ' (Taiwan)' },\n};\n\nconst languages = window.navigator.languages !== undefined ? window.navigator.languages.slice() : [];\nlet language = window.navigator.userLanguage || window.navigator.language;\nlanguages.push(language);\nlanguages.push(language.substring(0, 2));\nlanguages.push('en');\nfor (let i = 0; i < languages.length; i++) {\n  language = languages[i].replace('-', '_');\n  if (language in supportedLanguages) {\n    break;\n  }\n  if (language.length > 2) {\n    language = languages[i].substring(0, 2);\n    if (language in supportedLanguages) {\n      break;\n    }\n  }\n}\n\nconst selectedLanguage = supportedLanguages[language];\n\nexport const findStringKeys = (predicate) => Object.keys(selectedLanguage.data).filter(predicate);\n\nexport default (key) => selectedLanguage.data[key];\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport t from './common/localization';\n\nconst RemoveDialog = ({\n  open, endpoint, itemId, onResult,\n}) => {\n  const handleRemove = async () => {\n    const response = await fetch(`/api/${endpoint}/${itemId}`, { method: 'DELETE' });\n    if (response.ok) {\n      onResult(true);\n    }\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={() => { onResult(false); }}\n    >\n      <DialogContent>\n        <DialogContentText>{t('sharedRemoveConfirm')}</DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"primary\" onClick={handleRemove}>{t('sharedRemove')}</Button>\n        <Button autoFocus onClick={() => onResult(false)}>{t('sharedCancel')}</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default RemoveDialog;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router-dom';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useSelector } from 'react-redux';\n\nimport t from './common/localization';\nimport RemoveDialog from './RemoveDialog';\n\nconst useStyles = makeStyles((theme) => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nconst EditCollectionView = ({\n  content, editPath, endpoint, disableAdd,\n}) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [selectedId, setSelectedId] = useState(null);\n  const [selectedAnchorEl, setSelectedAnchorEl] = useState(null);\n  const [removeDialogShown, setRemoveDialogShown] = useState(false);\n  const [updateTimestamp, setUpdateTimestamp] = useState(Date.now());\n  const adminEnabled = useSelector((state) => state.session.user && state.session.user.administrator);\n\n  const menuShow = (anchorId, itemId) => {\n    setSelectedAnchorEl(anchorId);\n    setSelectedId(itemId);\n  };\n\n  const menuHide = () => {\n    setSelectedAnchorEl(null);\n  };\n\n  const handleAdd = () => {\n    history.push(editPath);\n    menuHide();\n  };\n\n  const handleEdit = () => {\n    history.push(`${editPath}/${selectedId}`);\n    menuHide();\n  };\n\n  const handleRemove = () => {\n    setRemoveDialogShown(true);\n    menuHide();\n  };\n\n  const handleRemoveResult = () => {\n    setRemoveDialogShown(false);\n    setUpdateTimestamp(Date.now());\n  };\n\n  const Content = content;\n\n  return (\n    <>\n      <Content updateTimestamp={updateTimestamp} onMenuClick={menuShow} />\n      {adminEnabled && !disableAdd\n        && (\n        <Fab size=\"medium\" color=\"primary\" className={classes.fab} onClick={handleAdd}>\n          <AddIcon />\n        </Fab>\n        )}\n      <Menu open={!!selectedAnchorEl} anchorEl={selectedAnchorEl} onClose={menuHide}>\n        <MenuItem onClick={handleEdit}>{t('sharedEdit')}</MenuItem>\n        <MenuItem onClick={handleRemove}>{t('sharedRemove')}</MenuItem>\n      </Menu>\n      <RemoveDialog open={removeDialogShown} endpoint={endpoint} itemId={selectedId} onResult={handleRemoveResult} />\n    </>\n  );\n};\n\nexport default EditCollectionView;\n","import { useRef, useEffect } from 'react';\n\nexport const usePrevious = (value) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nexport const useEffectAsync = (effect, deps) => {\n  useEffect(() => {\n    effect();\n  }, deps);\n};\n","import moment from 'moment';\nimport t from './localization';\n\nexport const formatBoolean = (value) => (value ? t('sharedYes') : t('sharedNo'));\n\nexport const formatNumber = (value, precision = 1) => Number(value.toFixed(precision));\n\nexport const formatDate = (value, format = 'YYYY-MM-DD HH:mm') => moment(value).format(format);\n\nexport const formatPosition = (value, key) => {\n  if (value != null && typeof value === 'object') {\n    value = value[key];\n  }\n  switch (key) {\n    case 'fixTime':\n    case 'deviceTime':\n    case 'serverTime':\n    case 'eventTime':\n      return moment(value).format('LLL');\n    case 'latitude':\n    case 'longitude':\n      return value.toFixed(5);\n    case 'speed':\n    case 'course':\n      return value.toFixed(1);\n    case 'batteryLevel':\n      return `${value}%`;\n    default:\n      if (typeof value === 'number') {\n        return formatNumber(value);\n      } if (typeof value === 'boolean') {\n        return formatBoolean(value);\n      }\n      return value;\n  }\n};\n\nexport const formatDistance = (value, unit) => {\n  switch (unit) {\n    case 'mi':\n      return `${(value * 0.000621371).toFixed(2)} ${t('sharedMi')}`;\n    case 'nmi':\n      return `${(value * 0.000539957).toFixed(2)} ${t('sharedNmi')}`;\n    case 'km':\n    default:\n      return `${(value * 0.001).toFixed(2)} ${t('sharedKm')}`;\n  }\n};\n\nexport const formatSpeed = (value, unit) => {\n  switch (unit) {\n    case 'kmh':\n      return `${(value * 1.852).toFixed(2)} ${t('sharedKmh')}`;\n    case 'mph':\n      return `${(value * 1.15078).toFixed(2)} ${t('sharedMph')}`;\n    case 'kn':\n    default:\n      return `${(value * 1).toFixed(2)} ${t('sharedKn')}`;\n  }\n};\n\nexport const formatVolume = (value, unit) => {\n  switch (unit) {\n    case 'impGal':\n      return `${(value / 4.546).toFixed(2)} ${t('sharedGallonAbbreviation')}`;\n    case 'usGal':\n      return `${(value / 3.785).toFixed(2)} ${t('sharedGallonAbbreviation')}`;\n    case 'ltr':\n    default:\n      return `${(value / 1).toFixed(2)} ${t('sharedLiterAbbreviation')}`;\n  }\n};\n\nexport const formatHours = (value) => moment.duration(value).humanize();\n\nexport const formatCoordinate = (key, value, unit) => {\n  let hemisphere; let degrees; let minutes; let\n    seconds;\n  if (key === 'latitude') {\n    hemisphere = value >= 0 ? 'N' : 'S';\n  } else {\n    hemisphere = value >= 0 ? 'E' : 'W';\n  }\n\n  switch (unit) {\n    case 'ddm':\n      value = Math.abs(value);\n      degrees = Math.floor(value);\n      minutes = (value - degrees) * 60;\n      return `${degrees} ${minutes.toFixed(6)}' ${hemisphere}`;\n    case 'dms':\n      value = Math.abs(value);\n      degrees = Math.floor(value);\n      minutes = Math.floor((value - degrees) * 60);\n      seconds = Math.round((value - degrees - minutes / 60) * 3600);\n      return `${degrees} ${minutes}' ${seconds}\" ${hemisphere}`;\n    default:\n      return `${value.toFixed(6)}`;\n  }\n};\n\nexport const getStatusColor = (status) => {\n  switch (status) {\n    case 'online':\n      return 'green';\n    case 'offline':\n      return 'red';\n    case 'unknown':\n    default:\n      return 'gray';\n  }\n};\n\nexport const getBatteryStatus = (batteryLevel) => {\n  if (batteryLevel >= 70) {\n    return 'green';\n  }\n  if (batteryLevel > 30) {\n    return 'gray';\n  }\n  return 'red';\n};\n","export const getIsAdmin = (state) => state.session.user?.administrator;\n\nexport const getUserId = (state) => state.session.user?.id;\n\nexport const getDevices = (state) => Object.values(state.devices.items);\n\nexport const getPosition = (id) => (state) => state.positions.items[id];\n","import React, { useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Grid from '@material-ui/core/Grid';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport { FixedSizeList } from 'react-window';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport BatteryFullIcon from '@material-ui/icons/BatteryFull';\nimport { ReactComponent as IgnitionIcon } from '../public/images/icon/ignition.svg';\n\nimport { devicesActions } from './store';\nimport EditCollectionView from './EditCollectionView';\nimport { useEffectAsync } from './reactHelper';\nimport { formatPosition } from './common/formatter';\nimport { getDevices, getPosition } from './common/selectors';\n\nconst useStyles = makeStyles((theme) => ({\n  list: {\n    maxHeight: '100%',\n  },\n  listInner: {\n    position: 'relative',\n    margin: theme.spacing(1.5, 0),\n  },\n  icon: {\n    width: '25px',\n    height: '25px',\n    filter: 'brightness(0) invert(1)',\n  },\n  listItem: {\n    backgroundColor: 'white',\n    '&:hover': {\n      backgroundColor: 'white',\n    },\n  },\n  batteryText: {\n    fontSize: '0.75rem',\n    fontWeight: 'normal',\n    lineHeight: '0.875rem',\n  },\n  green: {\n    color: theme.palette.common.green,\n  },\n  red: {\n    color: theme.palette.common.red,\n  },\n  gray: {\n    color: theme.palette.common.gray,\n  },\n  indicators: {\n    lineHeight: 1,\n  },\n}));\n\nconst getStatusColor = (status) => {\n  switch (status) {\n    case 'online':\n      return 'green';\n    case 'offline':\n      return 'red';\n    case 'unknown':\n    default:\n      return 'gray';\n  }\n};\n\nconst getBatteryStatus = (batteryLevel) => {\n  if (batteryLevel >= 70) {\n    return 'green';\n  }\n  if (batteryLevel > 30) {\n    return 'gray';\n  }\n  return 'red';\n};\n\nconst DeviceRow = ({ data, index, style }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const { items } = data;\n  const item = items[index];\n  const position = useSelector(getPosition(item.id));\n  const showIgnition = position?.attributes.hasOwnProperty('ignition') && position.attributes.ignition;\n\n  return (\n    <div style={style}>\n      <ListItem button key={item.id} className={classes.listItem} onClick={() => dispatch(devicesActions.select(item))}>\n        <ListItemAvatar>\n          <Avatar>\n            <img className={classes.icon} src={`images/icon/${item.category || 'default'}.svg`} alt=\"\" />\n          </Avatar>\n        </ListItemAvatar>\n        <ListItemText primary={item.name} secondary={item.status} classes={{ secondary: classes[getStatusColor(item.status)] }} />\n        <ListItemSecondaryAction className={classes.indicators}>\n          {position && (\n          <Grid container direction=\"row\" alignItems=\"center\" alignContent=\"center\" spacing={2}>\n            {showIgnition && (\n            <Grid item>\n              <SvgIcon component={IgnitionIcon} />\n            </Grid>\n            )}\n            {position.attributes.hasOwnProperty('batteryLevel') && (\n            <Grid item container xs alignItems=\"center\" alignContent=\"center\">\n              <Grid item>\n                <span className={classes.batteryText}>{formatPosition(position.attributes.batteryLevel, 'batteryLevel')}</span>\n              </Grid>\n              <Grid item>\n                <BatteryFullIcon className={classes[getBatteryStatus(position.attributes.batteryLevel)]} />\n              </Grid>\n            </Grid>\n            )}\n          </Grid>\n          )}\n        </ListItemSecondaryAction>\n      </ListItem>\n    </div>\n  );\n};\n\nconst DeviceView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const listInnerEl = useRef(null);\n\n  const items = useSelector(getDevices);\n\n  if (listInnerEl.current) {\n    listInnerEl.current.className = classes.listInner;\n  }\n\n  useEffectAsync(async () => {\n    const response = await fetch('/api/devices');\n    if (response.ok) {\n      dispatch(devicesActions.refresh(await response.json()));\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <AutoSizer className={classes.list}>\n      {({ height, width }) => (\n        <List disablePadding>\n          <FixedSizeList\n            width={width}\n            height={height}\n            itemCount={items.length}\n            itemData={{ items, onMenuClick }}\n            itemSize={72}\n            overscanCount={10}\n            innerRef={listInnerEl}\n          >\n            {DeviceRow}\n          </FixedSizeList>\n        </List>\n      )}\n    </AutoSizer>\n  );\n};\n\nconst DevicesList = () => (\n  <EditCollectionView content={DeviceView} editPath=\"/device\" endpoint=\"devices\" disableAdd />\n);\n\nexport default DevicesList;\n","export class SwitcherControl {\n  constructor(styles, defaultStyle, beforeSwitch, afterSwitch) {\n    this.styles = styles;\n    this.defaultStyle = defaultStyle;\n    this.beforeSwitch = beforeSwitch;\n    this.afterSwitch = afterSwitch;\n    this.onDocumentClick = this.onDocumentClick.bind(this);\n  }\n\n  getDefaultPosition() {\n    return 'top-right';\n  }\n\n  onAdd(map) {\n    this.map = map;\n    this.controlContainer = document.createElement('div');\n    this.controlContainer.classList.add('maplibregl-ctrl');\n    this.controlContainer.classList.add('maplibregl-ctrl-group');\n    this.mapStyleContainer = document.createElement('div');\n    this.styleButton = document.createElement('button');\n    this.styleButton.type = 'button';\n    this.mapStyleContainer.classList.add('maplibregl-style-list');\n    for (const style of this.styles) {\n      const styleElement = document.createElement('button');\n      styleElement.type = 'button';\n      styleElement.innerText = style.title;\n      styleElement.classList.add(style.title.replace(/[^a-z0-9-]/gi, '_'));\n      styleElement.dataset.uri = JSON.stringify(style.uri);\n      styleElement.addEventListener('click', (event) => {\n        const { srcElement } = event;\n        if (srcElement.classList.contains('active')) {\n          return;\n        }\n        this.beforeSwitch();\n        this.map.setStyle(JSON.parse(srcElement.dataset.uri));\n        this.afterSwitch();\n        this.mapStyleContainer.style.display = 'none';\n        this.styleButton.style.display = 'block';\n        const elms = this.mapStyleContainer.getElementsByClassName('active');\n        while (elms[0]) {\n          elms[0].classList.remove('active');\n        }\n        srcElement.classList.add('active');\n      });\n      if (style.title === this.defaultStyle) {\n        styleElement.classList.add('active');\n      }\n      this.mapStyleContainer.appendChild(styleElement);\n    }\n    this.styleButton.classList.add('maplibregl-ctrl-icon');\n    this.styleButton.classList.add('maplibregl-style-switcher');\n    this.styleButton.addEventListener('click', () => {\n      this.styleButton.style.display = 'none';\n      this.mapStyleContainer.style.display = 'block';\n    });\n    document.addEventListener('click', this.onDocumentClick);\n    this.controlContainer.appendChild(this.styleButton);\n    this.controlContainer.appendChild(this.mapStyleContainer);\n    return this.controlContainer;\n  }\n\n  onRemove() {\n    if (!this.controlContainer || !this.controlContainer.parentNode || !this.map || !this.styleButton) {\n      return;\n    }\n    this.styleButton.removeEventListener('click', this.onDocumentClick);\n    this.controlContainer.parentNode.removeChild(this.controlContainer);\n    document.removeEventListener('click', this.onDocumentClick);\n    this.map = undefined;\n  }\n\n  onDocumentClick(event) {\n    if (this.controlContainer && !this.controlContainer.contains(event.target) && this.mapStyleContainer && this.styleButton) {\n      this.mapStyleContainer.style.display = 'none';\n      this.styleButton.style.display = 'block';\n    }\n  }\n}\n","export default [\n  'default',\n  'animal',\n  'bicycle',\n  'boat',\n  'bus',\n  'car',\n  'crane',\n  'helicopter',\n  'motorcycle',\n  'offroad',\n  'person',\n  'pickup',\n  'plane',\n  'ship',\n  'tractor',\n  'train',\n  'tram',\n  'trolleybus',\n  'truck',\n  'van',\n  'scooter',\n];\n","import { parse, stringify } from 'wellknown';\nimport canvasTintImage from 'canvas-tint-image';\nimport circle from '@turf/circle';\n\nexport const loadImage = (url) => new Promise((imageLoaded) => {\n  const image = new Image();\n  image.onload = () => imageLoaded(image);\n  image.src = url;\n});\n\nexport const prepareIcon = (background, icon, color) => {\n  const pixelRatio = window.devicePixelRatio;\n\n  const canvas = document.createElement('canvas');\n  canvas.width = background.width * pixelRatio;\n  canvas.height = background.height * pixelRatio;\n  canvas.style.width = `${background.width}px`;\n  canvas.style.height = `${background.height}px`;\n\n  const context = canvas.getContext('2d');\n  context.drawImage(background, 0, 0, canvas.width, canvas.height);\n\n  if (icon) {\n    const iconRatio = 0.5;\n    const imageWidth = canvas.width * iconRatio;\n    const imageHeight = canvas.height * iconRatio;\n    context.drawImage(canvasTintImage(icon, color, 1), (canvas.width - imageWidth) / 2, (canvas.height - imageHeight) / 2, imageWidth, imageHeight);\n  }\n\n  return context.getImageData(0, 0, canvas.width, canvas.height);\n};\n\nexport const reverseCoordinates = (it) => {\n  if (!it) {\n    return it;\n  } if (Array.isArray(it)) {\n    if (it.length === 2 && !Number.isNaN(it[0]) && !Number.isNaN(it[1])) {\n      return [it[1], it[0]];\n    }\n    return it.map((it) => reverseCoordinates(it));\n  }\n  return {\n    ...it,\n    coordinates: reverseCoordinates(it.coordinates),\n  };\n};\n\nexport const geofenceToFeature = (item) => {\n  if (item.area.indexOf('CIRCLE') > -1) {\n    const coordinates = item.area.replace(/CIRCLE|\\(|\\)|,/g, ' ').trim().split(/ +/);\n    const options = { steps: 32, units: 'meters' };\n    const polygon = circle([Number(coordinates[1]), Number(coordinates[0])], Number(coordinates[2]), options);\n    return {\n      id: item.id,\n      type: 'Feature',\n      geometry: polygon.geometry,\n      properties: { name: item.name },\n    };\n  }\n  return {\n    id: item.id,\n    type: 'Feature',\n    geometry: reverseCoordinates(parse(item.area)),\n    properties: { name: item.name },\n  };\n};\n\nexport const geometryToArea = (geometry) => stringify(reverseCoordinates(geometry));\n","export const styleCustom = (url, attribution) => ({\n  version: 8,\n  sources: {\n    osm: {\n      type: 'raster',\n      tiles: [url],\n      attribution,\n      tileSize: 256,\n    },\n  },\n  glyphs: 'https://cdn.traccar.com/map/fonts/{fontstack}/{range}.pbf',\n  layers: [{\n    id: 'osm',\n    type: 'raster',\n    source: 'osm',\n  }],\n});\n\nexport const styleOsm = () => styleCustom(\n  'https://tile.openstreetmap.org/{z}/{x}/{y}.png',\n  ' <a target=\"_top\" rel=\"noopener\" href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n);\n\nexport const styleCarto = () => ({\n  version: 8,\n  sources: {\n    'raster-tiles': {\n      type: 'raster',\n      tiles: [\n        'https://a.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png',\n        'https://b.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png',\n        'https://c.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png',\n        'https://d.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png',\n      ],\n      tileSize: 256,\n      attribution: ' <a target=\"_top\" rel=\"noopener\" href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors,  <a target=\"_top\" rel=\"noopener\" href=\"https://carto.com/attribution\">CARTO</a>',\n    },\n  },\n  glyphs: 'https://cdn.traccar.com/map/fonts/{fontstack}/{range}.pbf',\n  layers: [\n    {\n      id: 'simple-tiles',\n      type: 'raster',\n      source: 'raster-tiles',\n      minzoom: 0,\n      maxzoom: 22,\n    },\n  ],\n});\n\nexport const styleMapbox = (style) => `mapbox://styles/mapbox/${style}`;\n\nexport const styleMapTiler = (style, key) => `https://api.maptiler.com/maps/${style}/style.json?key=${key}`;\n","import { useSelector } from 'react-redux';\n\nexport const usePreference = (key, defaultValue) => useSelector((state) => {\n  if (state.session.server.forceSettings) {\n    return state.session.server[key] || state.session.user[key] || defaultValue;\n  }\n  return state.session.user[key] || state.session.server[key] || defaultValue;\n});\n\nexport const useAttributePreference = (key, defaultValue) => useSelector((state) => {\n  if (state.session.server.forceSettings) {\n    return state.session.server.attributes[key] || state.session.user.attributes[key] || defaultValue;\n  }\n  return state.session.user.attributes[key] || state.session.server.attributes[key] || defaultValue;\n});\n","const traccarWhite = '#FFF';\nconst traccarPurple = '#333366';\nconst traccarGreen = '#4CAF50';\nconst traccarRed = '#CC2222';\nconst traccarGray = '#888888';\n\nexport default {\n  common: {\n    purple: traccarPurple,\n    green: traccarGreen,\n    red: traccarRed,\n    gray: traccarGray,\n  },\n  primary: {\n    main: traccarPurple,\n  },\n  secondary: {\n    main: traccarGreen,\n    contrastText: traccarWhite,\n  },\n  colors: {\n    red: {\n      color: traccarRed,\n    },\n    green: {\n      color: traccarGreen,\n    },\n    gray: {\n      color: traccarGray,\n    },\n  },\n};\n","import 'maplibre-gl/dist/maplibre-gl.css';\nimport './switcher/switcher.css';\nimport maplibregl from 'maplibre-gl';\nimport React, {\n  useRef, useLayoutEffect, useEffect, useState,\n} from 'react';\nimport { SwitcherControl } from './switcher/switcher';\nimport deviceCategories from '../common/deviceCategories';\nimport { prepareIcon, loadImage } from './mapUtil';\nimport { styleCarto, styleMapbox, styleOsm } from './mapStyles';\nimport t from '../common/localization';\nimport { useAttributePreference } from '../common/preferences';\nimport palette from '../theme/palette';\n\nconst element = document.createElement('div');\nelement.style.width = '100%';\nelement.style.height = '100%';\n\nexport const map = new maplibregl.Map({\n  container: element,\n  style: styleOsm(),\n});\n\nlet ready = false;\nconst readyListeners = new Set();\n\nconst addReadyListener = (listener) => {\n  readyListeners.add(listener);\n  listener(ready);\n};\n\nconst removeReadyListener = (listener) => {\n  readyListeners.delete(listener);\n};\n\nconst updateReadyValue = (value) => {\n  ready = value;\n  readyListeners.forEach((listener) => listener(value));\n};\n\nconst initMap = async () => {\n  if (ready) return;\n  const background = await loadImage('images/background.svg');\n  map.addImage('background', await prepareIcon(background), {\n    pixelRatio: window.devicePixelRatio,\n  });\n  await Promise.all(deviceCategories.map(async (category) => {\n    const results = [];\n    ['green', 'red', 'gray'].forEach((color) => {\n      results.push(loadImage(`images/icon/${category}.svg`).then((icon) => {\n        map.addImage(`${category}-${color}`, prepareIcon(background, icon, palette.common[color]), {\n          pixelRatio: window.devicePixelRatio,\n        });\n      }));\n    });\n    await Promise.all(results);\n  }));\n  updateReadyValue(true);\n};\n\nmap.on('load', initMap);\n\nmap.addControl(new maplibregl.NavigationControl({\n  showCompass: false,\n}));\n\nmap.addControl(new SwitcherControl(\n  [\n    { title: t('mapOsm'), uri: styleOsm() },\n    { title: t('mapCarto'), uri: styleCarto() },\n    { title: t('mapMapboxStreets'), uri: styleMapbox('streets-v11') },\n    { title: t('mapMapboxOutdoors'), uri: styleMapbox('outdoors-v11') },\n    { title: t('mapMapboxSatellite'), uri: styleMapbox('satellite-v9') },\n  ],\n  t('mapOsm'),\n  () => updateReadyValue(false),\n  () => {\n    const waiting = () => {\n      if (!map.loaded()) {\n        setTimeout(waiting, 100);\n      } else {\n        initMap();\n      }\n    };\n    waiting();\n  },\n));\n\nconst Map = ({ children }) => {\n  const containerEl = useRef(null);\n\n  const [mapReady, setMapReady] = useState(false);\n\n  const mapboxAccessToken = useAttributePreference('mapboxAccessToken');\n\n  useEffect(() => {\n    maplibregl.accessToken = mapboxAccessToken;\n  }, [mapboxAccessToken]);\n\n  useEffect(() => {\n    const listener = (ready) => setMapReady(ready);\n    addReadyListener(listener);\n    return () => {\n      removeReadyListener(listener);\n    };\n  }, []);\n\n  useLayoutEffect(() => {\n    const currentEl = containerEl.current;\n    currentEl.appendChild(element);\n    if (map) {\n      map.resize();\n    }\n    return () => {\n      currentEl.removeChild(element);\n    };\n  }, [containerEl]);\n\n  return (\n    <div style={{ width: '100%', height: '100%' }} ref={containerEl}>\n      {mapReady && children}\n    </div>\n  );\n};\n\nexport default Map;\n","import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport maplibregl from 'maplibre-gl';\nimport { Provider, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { map } from './Map';\nimport store from '../store';\nimport StatusView from './StatusView';\nimport theme from '../theme';\n\nlet popup;\n\nconst SelectedDeviceMap = () => {\n  const history = useHistory();\n\n  const mapCenter = useSelector((state) => {\n    if (state.devices.selectedId) {\n      const position = state.positions.items[state.devices.selectedId] || null;\n      if (position) {\n        return { deviceId: state.devices.selectedId, position: [position.longitude, position.latitude] };\n      }\n    }\n    return null;\n  });\n\n  const showStatus = (deviceId, coordinates) => {\n    const placeholder = document.createElement('div');\n    ReactDOM.render(\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <StatusView\n            deviceId={deviceId}\n            onShowDetails={(positionId) => history.push(`/position/${positionId}`)}\n            onShowHistory={() => history.push('/replay')}\n            onEditClick={(deviceId) => history.push(`/device/${deviceId}`)}\n          />\n        </ThemeProvider>\n      </Provider>,\n      placeholder,\n    );\n\n    if (popup) {\n      popup.remove();\n    }\n    popup = new maplibregl.Popup({\n      offset: 25,\n      anchor: 'top',\n      closeOnClick: true,\n    });\n\n    popup.setDOMContent(placeholder).setLngLat(coordinates).addTo(map);\n  };\n\n  useEffect(() => {\n    if (mapCenter) {\n      map.easeTo({ center: mapCenter.position });\n      showStatus(mapCenter.deviceId, mapCenter.position);\n    }\n  }, [mapCenter]);\n\n  return null;\n};\n\nexport default SelectedDeviceMap;\n","import React, { useState } from 'react';\nimport {\n  makeStyles, Paper, IconButton, Grid, Button,\n} from '@material-ui/core';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { useSelector } from 'react-redux';\n\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport {\n  formatPosition, getStatusColor, getBatteryStatus, formatDistance, formatSpeed,\n} from '../common/formatter';\nimport { useAttributePreference } from '../common/preferences';\nimport RemoveDialog from '../RemoveDialog';\nimport t from '../common/localization';\nimport { getPosition } from '../common/selectors';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    width: '300px',\n  },\n  ...theme.palette.colors,\n  listItemContainer: {\n    maxWidth: '240px',\n  },\n}));\n\nconst StatusView = ({\n  deviceId, onShowDetails, onShowHistory, onEditClick,\n}) => {\n  const classes = useStyles();\n\n  const [removeDialogShown, setRemoveDialogShown] = useState(false);\n  const device = useSelector((state) => state.devices.items[deviceId]);\n  const position = useSelector(getPosition(deviceId));\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const speedUnit = useAttributePreference('speedUnit');\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    onShowDetails(position.id);\n  };\n\n  const handleEditClick = (e) => {\n    e.preventDefault();\n    onEditClick(deviceId);\n  };\n\n  const handleRemove = () => {\n    setRemoveDialogShown(true);\n  };\n\n  const handleRemoveResult = () => {\n    setRemoveDialogShown(false);\n  };\n\n  return (\n    <>\n      <Paper className={classes.paper} elevation={0} square>\n        <Grid container direction=\"column\">\n          <Grid item>\n            <List>\n              <ListItem classes={{ container: classes.listItemContainer }}>\n                <ListItemText primary={t('deviceStatus')} />\n                <ListItemSecondaryAction>\n                  <span className={classes[getStatusColor(device.status)]}>{device.status}</span>\n                </ListItemSecondaryAction>\n              </ListItem>\n              <ListItem classes={{ container: classes.listItemContainer }}>\n                <ListItemText primary={t('positionSpeed')} />\n                <ListItemSecondaryAction>\n                  <span>{formatSpeed(position.speed, speedUnit)}</span>\n                </ListItemSecondaryAction>\n              </ListItem>\n              {position.attributes.batteryLevel && (\n                <ListItem classes={{ container: classes.listItemContainer }}>\n                  <ListItemText primary={t('positionBattery')} />\n                  <ListItemSecondaryAction>\n                    <span className={classes[getBatteryStatus(position.attributes.batteryLevel)]}>{formatPosition(position.attributes.batteryLevel, 'batteryLevel')}</span>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              )}\n              <ListItem classes={{ container: classes.listItemContainer }}>\n                <ListItemText primary={t('positionDistance')} />\n                <ListItemSecondaryAction>\n                  <span>{formatDistance(position.attributes.totalDistance, distanceUnit)}</span>\n                </ListItemSecondaryAction>\n              </ListItem>\n              <ListItem classes={{ container: classes.listItemContainer }}>\n                <ListItemText primary={t('positionCourse')} />\n                <ListItemSecondaryAction>\n                  <span>{formatPosition(position.course, 'course')}</span>\n                </ListItemSecondaryAction>\n              </ListItem>\n            </List>\n          </Grid>\n          <Grid item container>\n            <Grid item>\n              <Button color=\"secondary\" onClick={handleClick}>More Info</Button>\n            </Grid>\n            <Grid item>\n              <IconButton onClick={onShowHistory}>\n                <ReplayIcon />\n              </IconButton>\n            </Grid>\n            <Grid item>\n              <IconButton>\n                <ExitToAppIcon />\n              </IconButton>\n            </Grid>\n            <Grid item>\n              <IconButton onClick={handleEditClick}>\n                <EditIcon />\n              </IconButton>\n            </Grid>\n            <Grid item>\n              <IconButton onClick={handleRemove} className={classes.red}>\n                <DeleteIcon />\n              </IconButton>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Paper>\n      <RemoveDialog open={removeDialogShown} endpoint=\"devices\" itemId={deviceId} onResult={handleRemoveResult} />\n    </>\n  );\n};\n\nexport default StatusView;\n","export default {\n  inputHeight: '42px',\n  borderRadius: '4px',\n  sidebarWidth: '28%',\n  sidebarWidthTablet: '52px',\n  drawerWidthDesktop: '360px',\n  drawerWidthTablet: '320px',\n  columnWidthDate: 160,\n  columnWidthNumber: 130,\n  columnWidthString: 160,\n  columnWidthBoolean: 130,\n  bottomNavMaxWidth: '400px',\n};\n","import dimensions from './dimensions';\n\nexport default {\n  MuiFormControl: {\n    root: {\n      marginTop: 5,\n      marginBottom: 5,\n    },\n  },\n  MuiInputLabel: {\n    filled: {\n      transform: 'translate(12px, 14px) scale(1)',\n      '&$shrink': {\n        transform: 'translate(12px, -14px) scale(0.72)',\n      },\n    },\n  },\n  MuiFilledInput: {\n    root: {\n      height: dimensions.inputHeight,\n      borderRadius: dimensions.borderRadius,\n      backgroundColor: 'rgba(0, 0, 0, 0.035)',\n    },\n    input: {\n      height: dimensions.inputHeight,\n      borderRadius: dimensions.borderRadius,\n      paddingTop: '10px',\n      boxSizing: 'border-box',\n      '&:-webkit-autofill': {\n        WebkitBoxShadow: '0 0 0 100px #eeeeee inset',\n      },\n    },\n    underline: {\n      '&:before': {\n        borderBottom: 'none',\n      },\n      '&:after': {\n        borderBottom: 'none',\n      },\n      '&:hover:before': {\n        borderBottom: 'none',\n      },\n    },\n  },\n  MuiButton: {\n    root: {\n      height: dimensions.inputHeight,\n      marginTop: 5,\n      marginBottom: 5,\n      '&$disabled': {\n        opacity: 0.4,\n        color: undefined,\n      },\n    },\n    contained: {\n      '&$disabled': {\n        opacity: 0.4,\n        color: undefined,\n        backgroundColor: undefined,\n      },\n    },\n  },\n  MuiFormHelperText: {\n    root: {\n      marginBottom: -10,\n    },\n    contained: {\n      marginLeft: 12,\n    },\n  },\n  MuiAutocomplete: {\n    inputRoot: {\n      '&.MuiFilledInput-root': {\n        paddingTop: 0,\n      },\n    },\n  },\n};\n","import { createMuiTheme } from '@material-ui/core/styles';\nimport palette from './palette';\nimport overrides from './overrides';\nimport dimensions from './dimensions';\n\nconst theme = createMuiTheme({\n  palette,\n  overrides,\n  dimensions,\n});\n\nexport default theme;\n","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport circle from '@turf/circle';\n\nimport { map } from './Map';\n\nconst AccuracyMap = () => {\n  const id = 'accuracy';\n\n  const positions = useSelector((state) => ({\n    type: 'FeatureCollection',\n    features: Object.values(state.positions.items).filter((position) => position.accuracy > 0).map((position) => circle([position.longitude, position.latitude], position.accuracy * 0.001)),\n  }));\n\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'FeatureCollection',\n        features: [],\n      },\n    });\n    map.addLayer({\n      source: id,\n      id,\n      type: 'fill',\n      filter: [\n        'all',\n        ['==', '$type', 'Polygon'],\n      ],\n      paint: {\n        'fill-color': '#3bb2d0',\n        'fill-outline-color': '#3bb2d0',\n        'fill-opacity': 0.25,\n      },\n    });\n\n    return () => {\n      map.removeLayer(id);\n      map.removeSource(id);\n    };\n  }, []);\n\n  useEffect(() => {\n    map.getSource(id).setData(positions);\n  }, [positions]);\n\n  return null;\n};\n\nexport default AccuracyMap;\n","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { map } from './Map';\nimport { geofenceToFeature } from './mapUtil';\n\nconst GeofenceMap = () => {\n  const id = 'geofences';\n\n  const geofences = useSelector((state) => Object.values(state.geofences.items));\n\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'FeatureCollection',\n        features: [],\n      },\n    });\n    map.addLayer({\n      source: id,\n      id: 'geofences-fill',\n      type: 'fill',\n      filter: [\n        'all',\n        ['==', '$type', 'Polygon'],\n      ],\n      paint: {\n        'fill-color': '#3bb2d0',\n        'fill-outline-color': '#3bb2d0',\n        'fill-opacity': 0.1,\n      },\n    });\n    map.addLayer({\n      source: id,\n      id: 'geofences-line',\n      type: 'line',\n      paint: {\n        'line-color': '#3bb2d0',\n        'line-width': 2,\n      },\n    });\n    map.addLayer({\n      source: id,\n      id: 'geofences-title',\n      type: 'symbol',\n      layout: {\n        'text-field': '{name}',\n        'text-font': ['Roboto Regular'],\n        'text-size': 12,\n      },\n      paint: {\n        'text-halo-color': 'white',\n        'text-halo-width': 1,\n      },\n    });\n\n    return () => {\n      map.removeLayer('geofences-fill');\n      map.removeLayer('geofences-line');\n      map.removeLayer('geofences-title');\n      map.removeSource(id);\n    };\n  }, []);\n\n  useEffect(() => {\n    map.getSource(id).setData({\n      type: 'FeatureCollection',\n      features: geofences.map(geofenceToFeature),\n    });\n  }, [geofences]);\n\n  return null;\n};\n\nexport default GeofenceMap;\n","import React, { useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport maplibregl from 'maplibre-gl';\nimport { Provider, useSelector } from 'react-redux';\n\nimport { useHistory } from 'react-router-dom';\nimport { map } from './Map';\nimport store from '../store';\nimport StatusView from './StatusView';\nimport theme from '../theme';\n\nconst PositionsMap = ({ positions }) => {\n  const id = 'positions';\n  const clusters = `${id}-clusters`;\n\n  const history = useHistory();\n  const devices = useSelector((state) => state.devices.items);\n\n  const deviceColor = (device) => {\n    switch (device.status) {\n      case 'online':\n        return 'green';\n      case 'offline':\n        return 'red';\n      default:\n        return 'gray';\n    }\n  };\n\n  const createFeature = (devices, position) => {\n    const device = devices[position.deviceId];\n    return {\n      deviceId: position.deviceId,\n      name: device.name,\n      category: device.category || 'default',\n      color: deviceColor(device),\n    };\n  };\n\n  const onMouseEnter = () => map.getCanvas().style.cursor = 'pointer';\n  const onMouseLeave = () => map.getCanvas().style.cursor = '';\n\n  const onMarkerClick = useCallback((event) => {\n    const feature = event.features[0];\n    const coordinates = feature.geometry.coordinates.slice();\n    while (Math.abs(event.lngLat.lng - coordinates[0]) > 180) {\n      coordinates[0] += event.lngLat.lng > coordinates[0] ? 360 : -360;\n    }\n\n    const placeholder = document.createElement('div');\n    ReactDOM.render(\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <StatusView\n            deviceId={feature.properties.deviceId}\n            onShowDetails={(positionId) => history.push(`/position/${positionId}`)}\n            onShowHistory={() => history.push('/replay')}\n            onEditClick={(deviceId) => history.push(`/device/${deviceId}`)}\n          />\n        </ThemeProvider>\n      </Provider>,\n      placeholder,\n    );\n\n    new maplibregl.Popup({\n      offset: 25,\n      anchor: 'top',\n    })\n      .setDOMContent(placeholder)\n      .setLngLat(coordinates)\n      .addTo(map);\n  }, [history]);\n\n  const onClusterClick = (event) => {\n    const features = map.queryRenderedFeatures(event.point, {\n      layers: [clusters],\n    });\n    const clusterId = features[0].properties.cluster_id;\n    map.getSource(id).getClusterExpansionZoom(clusterId, (error, zoom) => {\n      if (!error) {\n        map.easeTo({\n          center: features[0].geometry.coordinates,\n          zoom,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'FeatureCollection',\n        features: [],\n      },\n      cluster: true,\n      clusterMaxZoom: 14,\n      clusterRadius: 50,\n    });\n    map.addLayer({\n      id,\n      type: 'symbol',\n      source: id,\n      filter: ['!', ['has', 'point_count']],\n      layout: {\n        'icon-image': '{category}-{color}',\n        'icon-allow-overlap': true,\n        'text-field': '{name}',\n        'text-allow-overlap': true,\n        'text-anchor': 'bottom',\n        'text-offset': [0, -2],\n        'text-font': ['Roboto Regular'],\n        'text-size': 12,\n      },\n      paint: {\n        'text-halo-color': 'white',\n        'text-halo-width': 1,\n      },\n    });\n    map.addLayer({\n      id: clusters,\n      type: 'symbol',\n      source: id,\n      filter: ['has', 'point_count'],\n      layout: {\n        'icon-image': 'background',\n        'text-field': '{point_count_abbreviated}',\n        'text-font': ['Roboto Regular'],\n        'text-size': 14,\n      },\n    });\n\n    map.on('mouseenter', id, onMouseEnter);\n    map.on('mouseleave', id, onMouseLeave);\n    map.on('mouseenter', clusters, onMouseEnter);\n    map.on('mouseleave', clusters, onMouseLeave);\n    map.on('click', id, onMarkerClick);\n    map.on('click', clusters, onClusterClick);\n\n    return () => {\n      Array.from(map.getContainer().getElementsByClassName('maplibregl-popup')).forEach((el) => el.remove());\n\n      map.off('mouseenter', id, onMouseEnter);\n      map.off('mouseleave', id, onMouseLeave);\n      map.off('mouseenter', clusters, onMouseEnter);\n      map.off('mouseleave', clusters, onMouseLeave);\n      map.off('click', id, onMarkerClick);\n      map.off('click', clusters, onClusterClick);\n\n      map.removeLayer(id);\n      map.removeLayer(clusters);\n      map.removeSource(id);\n    };\n  }, [onMarkerClick]);\n\n  useEffect(() => {\n    map.getSource(id).setData({\n      type: 'FeatureCollection',\n      features: positions.filter((it) => devices.hasOwnProperty(it.deviceId)).map((position) => ({\n        type: 'Feature',\n        geometry: {\n          type: 'Point',\n          coordinates: [position.longitude, position.latitude],\n        },\n        properties: createFeature(devices, position),\n      })),\n    });\n  }, [devices, positions]);\n\n  return null;\n};\n\nexport default PositionsMap;\n","import React, { } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport PositionsMap from './PositionsMap';\n\nconst CurrentPositionsMap = () => {\n  const positions = useSelector((state) => Object.values(state.positions.items));\n  return (<PositionsMap positions={positions} />);\n};\n\nexport default CurrentPositionsMap;\n","import maplibregl from 'maplibre-gl';\nimport { useEffect } from 'react';\nimport { map } from './Map';\n\nconst CurrentLocationMap = () => {\n  useEffect(() => {\n    const control = new maplibregl.GeolocateControl({\n      positionOptions: {\n        enableHighAccuracy: true,\n        timeout: 5000,\n      },\n      trackUserLocation: true,\n    });\n    map.addControl(control);\n    return () => map.removeControl(control);\n  }, []);\n\n  return null;\n};\n\nexport default CurrentLocationMap;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport {\n  makeStyles, Paper, Toolbar, IconButton, useMediaQuery, useTheme,\n} from '@material-ui/core';\n\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\nimport MapIcon from '@material-ui/icons/Map';\nimport LogoutIcon from '@material-ui/icons/ExitToApp';\n\nimport { sessionActions } from '../store';\nimport t from '../common/localization';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    bottom: theme.spacing(0),\n    left: '0px',\n    width: '100%',\n    position: 'fixed',\n    zIndex: 1301,\n    [theme.breakpoints.up('lg')]: {\n      left: theme.spacing(1.5),\n      bottom: theme.spacing(1.5),\n      width: theme.dimensions.drawerWidthDesktop,\n    },\n  },\n  toolbar: {\n    padding: theme.spacing(0, 2),\n    display: 'flex',\n    justifyContent: 'space-around',\n    maxWidth: theme.dimensions.bottomNavMaxWidth,\n    margin: 'auto',\n  },\n  navItem: {\n    display: 'flex',\n    flexDirection: 'column',\n    fontSize: '0.75rem',\n    fontWeight: 'normal',\n  },\n}));\n\nconst BottomNav = ({ showOnDesktop }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const history = useHistory();\n\n  const isDesktop = useMediaQuery(theme.breakpoints.up('lg'));\n  const dispatch = useDispatch();\n\n  const NavLink = ({ children, location }) => (\n    <IconButton component={Link} classes={{ label: classes.navItem }} to={location}>\n      {children}\n    </IconButton>\n  );\n\n  const handleLogout = async () => {\n    const response = await fetch('/api/session', { method: 'DELETE' });\n    if (response.ok) {\n      dispatch(sessionActions.updateUser(null));\n      history.push('/login');\n    }\n  };\n\n  if (isDesktop && !showOnDesktop) return null;\n\n  return (\n    <div className={classes.container}>\n      <Paper square elevation={3}>\n        <Toolbar className={classes.toolbar} disableGutters>\n\n          {isDesktop ? (\n            <NavLink location=\"/replay\">\n              <ReplayIcon />\n              {t('reportReplay')}\n            </NavLink>\n          ) : (\n            <NavLink location=\"/\">\n              <MapIcon />\n              {t('mapTitle')}\n            </NavLink>\n          )}\n\n          <NavLink location=\"/reports/route\">\n            <DescriptionIcon />\n            {t('reportTitle')}\n          </NavLink>\n\n          <NavLink location=\"/settings/notifications\">\n            <ShuffleIcon />\n            {t('settingsTitle')}\n          </NavLink>\n\n          <IconButton classes={{ label: classes.navItem }} onClick={handleLogout}>\n            <LogoutIcon />\n            {t('loginLogout')}\n          </IconButton>\n        </Toolbar>\n      </Paper>\n    </div>\n  );\n};\n\nexport default BottomNav;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  makeStyles, Paper, Toolbar, TextField, IconButton, Button,\n} from '@material-ui/core';\n\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AddIcon from '@material-ui/icons/Add';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport ListIcon from '@material-ui/icons/ViewList';\n\nimport DevicesList from './DevicesList';\nimport Map from './map/Map';\nimport SelectedDeviceMap from './map/SelectedDeviceMap';\nimport AccuracyMap from './map/AccuracyMap';\nimport GeofenceMap from './map/GeofenceMap';\nimport CurrentPositionsMap from './map/CurrentPositionsMap';\nimport CurrentLocationMap from './map/CurrentLocationMap';\nimport BottomNav from './components/BottomNav';\nimport t from './common/localization';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  sidebar: {\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    margin: theme.spacing(1.5),\n    width: theme.dimensions.drawerWidthDesktop,\n    bottom: theme.spacing(8),\n    zIndex: 1301,\n    transition: 'transform .5s ease',\n    backgroundColor: 'white',\n    [theme.breakpoints.down('md')]: {\n      width: '100%',\n      margin: 0,\n    },\n  },\n  sidebarCollapsed: {\n    transform: `translateX(-${theme.dimensions.drawerWidthDesktop})`,\n    marginLeft: 0,\n    [theme.breakpoints.down('md')]: {\n      transform: 'translateX(-100vw)',\n    },\n  },\n  paper: {\n    zIndex: 1,\n  },\n  toolbar: {\n    display: 'flex',\n    padding: theme.spacing(0, 1),\n    '& > *': {\n      margin: theme.spacing(0, 1),\n    },\n  },\n  deviceList: {\n    flex: 1,\n  },\n  sidebarToggle: {\n    position: 'absolute',\n    left: theme.spacing(1.5),\n    top: theme.spacing(3),\n    borderRadius: '0px',\n    minWidth: 0,\n    [theme.breakpoints.down('md')]: {\n      left: 0,\n    },\n  },\n  sidebarToggleText: {\n    marginLeft: theme.spacing(1),\n    [theme.breakpoints.only('xs')]: {\n      display: 'none',\n    },\n  },\n  sidebarToggleBg: {\n    backgroundColor: 'white',\n    color: '#777777',\n    '&:hover': {\n      backgroundColor: 'white',\n    },\n  },\n}));\n\nconst MainPage = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const theme = useTheme();\n\n  const isTablet = useMediaQuery(theme.breakpoints.down('md'));\n  const isPhone = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [deviceName, setDeviceName] = useState('');\n  const [collapsed, setCollapsed] = useState(false);\n\n  const handleClose = () => {\n    setCollapsed(!collapsed);\n  };\n\n  // Collapse sidebar for tablets and phones\n  useEffect(() => {\n    setCollapsed(isTablet);\n  }, [isTablet]);\n\n  return (\n    <div className={classes.root}>\n      <Map>\n        <CurrentLocationMap />\n        <GeofenceMap />\n        <AccuracyMap />\n        <CurrentPositionsMap />\n        <SelectedDeviceMap />\n      </Map>\n      <Button\n        variant=\"contained\"\n        color={isPhone ? 'secondary' : 'primary'}\n        classes={{ containedPrimary: classes.sidebarToggleBg }}\n        className={classes.sidebarToggle}\n        onClick={handleClose}\n        disableElevation\n      >\n        <ListIcon />\n        <div className={classes.sidebarToggleText}>{t('deviceTitle')}</div>\n      </Button>\n      <Paper elevation={3} className={`${classes.sidebar} ${collapsed && classes.sidebarCollapsed}`}>\n        <Paper className={classes.paper} square elevation={3}>\n          <Toolbar className={classes.toolbar} disableGutters>\n            {isTablet && (\n            <IconButton onClick={handleClose}>\n              <ArrowBackIcon />\n            </IconButton>\n            )}\n            <TextField\n              fullWidth\n              name=\"deviceName\"\n              value={deviceName}\n              autoComplete=\"deviceName\"\n              autoFocus\n              onChange={(event) => setDeviceName(event.target.value)}\n              placeholder=\"Search Devices\"\n              variant=\"filled\"\n            />\n            <IconButton onClick={() => history.push('/device')}>\n              <AddIcon />\n            </IconButton>\n            {!isTablet && (\n            <IconButton onClick={handleClose}>\n              <CloseIcon />\n            </IconButton>\n            )}\n          </Toolbar>\n        </Paper>\n        <div className={classes.deviceList}>\n          <DevicesList />\n        </div>\n      </Paper>\n\n      <BottomNav showOnDesktop />\n    </div>\n  );\n};\n\nexport default MainPage;\n","import React, { useState } from 'react';\nimport {\n  FormControl, InputLabel, Select, MenuItem, Button, TextField, Grid, Typography,\n} from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\nimport t from '../common/localization';\n\nconst ReportFilter = ({ children, handleSubmit, showOnly }) => {\n  const devices = useSelector((state) => Object.values(state.devices.items));\n  const [deviceId, setDeviceId] = useState();\n  const [period, setPeriod] = useState('today');\n  const [from, setFrom] = useState(moment().subtract(1, 'hour'));\n  const [to, setTo] = useState(moment());\n\n  const handleClick = (mail, json) => {\n    let selectedFrom;\n    let selectedTo;\n    switch (period) {\n      case 'today':\n        selectedFrom = moment().startOf('day');\n        selectedTo = moment().endOf('day');\n        break;\n      case 'yesterday':\n        selectedFrom = moment().subtract(1, 'day').startOf('day');\n        selectedTo = moment().subtract(1, 'day').endOf('day');\n        break;\n      case 'thisWeek':\n        selectedFrom = moment().startOf('week');\n        selectedTo = moment().endOf('week');\n        break;\n      case 'previousWeek':\n        selectedFrom = moment().subtract(1, 'week').startOf('week');\n        selectedTo = moment().subtract(1, 'week').endOf('week');\n        break;\n      case 'thisMonth':\n        selectedFrom = moment().startOf('month');\n        selectedTo = moment().endOf('month');\n        break;\n      case 'previousMonth':\n        selectedFrom = moment().subtract(1, 'month').startOf('month');\n        selectedTo = moment().subtract(1, 'month').endOf('month');\n        break;\n      default:\n        selectedFrom = from;\n        selectedTo = to;\n        break;\n    }\n\n    const accept = json ? 'application/json' : 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n    handleSubmit(\n      deviceId,\n      selectedFrom.toISOString(),\n      selectedTo.toISOString(),\n      mail,\n      { Accept: accept },\n    );\n  };\n\n  return (\n    <Grid container spacing={2} justify=\"flex-end\">\n      <Grid item xs={12} sm={period === 'custom' ? 3 : 6}>\n        <FormControl variant=\"filled\" fullWidth>\n          <InputLabel>{t('reportDevice')}</InputLabel>\n          <Select value={deviceId} onChange={(e) => setDeviceId(e.target.value)}>\n            {devices.map((device) => (\n              <MenuItem value={device.id}>{device.name}</MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item xs={12} sm={period === 'custom' ? 3 : 6}>\n        <FormControl variant=\"filled\" fullWidth>\n          <InputLabel>{t('reportPeriod')}</InputLabel>\n          <Select value={period} onChange={(e) => setPeriod(e.target.value)}>\n            <MenuItem value=\"today\">{t('reportToday')}</MenuItem>\n            <MenuItem value=\"yesterday\">{t('reportYesterday')}</MenuItem>\n            <MenuItem value=\"thisWeek\">{t('reportThisWeek')}</MenuItem>\n            <MenuItem value=\"previousWeek\">{t('reportPreviousWeek')}</MenuItem>\n            <MenuItem value=\"thisMonth\">{t('reportThisMonth')}</MenuItem>\n            <MenuItem value=\"previousMonth\">{t('reportPreviousMonth')}</MenuItem>\n            <MenuItem value=\"custom\">{t('reportCustom')}</MenuItem>\n          </Select>\n        </FormControl>\n      </Grid>\n      {period === 'custom' && (\n      <Grid item xs={12} sm={3}>\n        <TextField\n          variant=\"filled\"\n          label={t('reportFrom')}\n          type=\"datetime-local\"\n          value={from.format(moment.HTML5_FMT.DATETIME_LOCAL)}\n          onChange={(e) => setFrom(moment(e.target.value, moment.HTML5_FMT.DATETIME_LOCAL))}\n          fullWidth\n        />\n      </Grid>\n      )}\n      {period === 'custom' && (\n      <Grid item xs={12} sm={3}>\n        <TextField\n          variant=\"filled\"\n          label={t('reportTo')}\n          type=\"datetime-local\"\n          value={to.format(moment.HTML5_FMT.DATETIME_LOCAL)}\n          onChange={(e) => setTo(moment(e.target.value, moment.HTML5_FMT.DATETIME_LOCAL))}\n          fullWidth\n        />\n      </Grid>\n      )}\n      {children}\n      <Grid item xs={!showOnly ? 4 : 12} sm={!showOnly ? 2 : 6}>\n        <Button\n          onClick={() => handleClick(false, true)}\n          variant=\"outlined\"\n          color=\"secondary\"\n          fullWidth\n        >\n          {t('reportShow')}\n        </Button>\n      </Grid>\n      {!showOnly\n        && (\n        <Grid item xs={4} sm={2}>\n          <Button\n            onClick={() => handleClick(false, false)}\n            variant=\"outlined\"\n            color=\"secondary\"\n            fullWidth\n          >\n            {t('reportExport')}\n          </Button>\n        </Grid>\n        )}\n      {!showOnly\n        && (\n        <Grid item xs={4} sm={2}>\n          <Button\n            onClick={() => handleClick(true, false)}\n            variant=\"outlined\"\n            color=\"secondary\"\n            fullWidth\n          >\n            <Typography variant=\"button\" noWrap>{t('reportEmail')}</Typography>\n          </Button>\n        </Grid>\n        )}\n    </Grid>\n  );\n};\n\nexport default ReportFilter;\n","import React from 'react';\nimport {\n  List, ListItem, ListItemText, ListItemIcon, Divider, ListSubheader,\n} from '@material-ui/core';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst SideNav = ({ routes }) => {\n  const location = useLocation();\n\n  return (\n    <List disablePadding style={{ paddingTop: '16px' }}>\n      {routes.map((route) => (route.subheader ? (\n        <>\n          <Divider />\n          <ListSubheader>{route.subheader}</ListSubheader>\n        </>\n      ) : (\n        <ListItem\n          disableRipple\n          component={Link}\n          key={route.href || route.subheader}\n          button\n          to={route.href}\n          selected={location.pathname.match(route.match || route.href)}\n        >\n          <ListItemIcon>{route.icon}</ListItemIcon>\n          <ListItemText primary={route.name} />\n        </ListItem>\n      )))}\n    </List>\n  );\n};\n\nexport default SideNav;\n","import React from 'react';\nimport {\n  AppBar, Toolbar, Typography, IconButton,\n} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst Navbar = ({ setOpenDrawer, title }) => (\n  <AppBar position=\"fixed\" color=\"inherit\">\n    <Toolbar>\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"open drawer\"\n        edge=\"start\"\n        onClick={() => setOpenDrawer(true)}\n      >\n        <MenuIcon />\n      </IconButton>\n      <Typography variant=\"h6\" noWrap>\n        {title}\n      </Typography>\n    </Toolbar>\n  </AppBar>\n);\n\nexport default Navbar;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  Grid, Typography, Divider, Drawer, makeStyles, IconButton, Hidden,\n} from '@material-ui/core';\nimport TimelineIcon from '@material-ui/icons/Timeline';\nimport PauseCircleFilledIcon from '@material-ui/icons/PauseCircleFilled';\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nimport SideNav from '../components/SideNav';\nimport NavBar from '../components/NavBar';\nimport t from '../common/localization';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    height: '100%',\n  },\n  drawerContainer: {\n    width: theme.dimensions.drawerWidthDesktop,\n  },\n  drawer: {\n    width: theme.dimensions.drawerWidthDesktop,\n    [theme.breakpoints.down('md')]: {\n      width: theme.dimensions.drawerWidthTablet,\n    },\n  },\n  content: {\n    flex: 1,\n    padding: theme.spacing(5, 3, 3, 3),\n  },\n  drawerHeader: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n  },\n  backArrowIconContainer: {\n    '&:hover': {\n      backgroundColor: 'transparent',\n    },\n  },\n  toolbar: {\n    [theme.breakpoints.down('md')]: {\n      ...theme.mixins.toolbar,\n    },\n  },\n}));\n\nconst routes = [\n  { name: t('reportRoute'), href: '/reports/route', icon: <TimelineIcon /> },\n  { name: t('reportEvents'), href: '/reports/event', icon: <NotificationsActiveIcon /> },\n  { name: t('reportTrips'), href: '/reports/trip', icon: <PlayCircleFilledIcon /> },\n  { name: t('reportStops'), href: '/reports/stop', icon: <PauseCircleFilledIcon /> },\n  { name: t('reportSummary'), href: '/reports/summary', icon: <FormatListBulletedIcon /> },\n  { name: t('reportChart'), href: '/reports/chart', icon: <TrendingUpIcon /> },\n];\n\nconst ReportLayout = ({ children, filter }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const [openDrawer, setOpenDrawer] = useState(false);\n  const [reportTitle, setReportTitle] = useState();\n\n  useEffect(() => {\n    routes.forEach((route) => {\n      switch (location.pathname) {\n        case `${route.href}`:\n          setReportTitle(route.name);\n          break;\n        default:\n          break;\n      }\n    });\n  }, [location]);\n\n  const pageTitle = `${t('reportTitle')} / ${reportTitle}`;\n\n  return (\n    <div className={classes.root}>\n      <Hidden only={['lg', 'xl']}>\n        <NavBar setOpenDrawer={setOpenDrawer} title={pageTitle} />\n        <Drawer\n          variant=\"temporary\"\n          open={openDrawer}\n          onClose={() => setOpenDrawer(!openDrawer)}\n          classes={{ paper: classes.drawer }}\n        >\n          <SideNav routes={routes} />\n        </Drawer>\n      </Hidden>\n      <Hidden only={['xs', 'sm', 'md']}>\n        <Drawer\n          variant=\"permanent\"\n          classes={{ root: classes.drawerContainer, paper: classes.drawer }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton\n              onClick={() => history.push('/')}\n            >\n              <ArrowBackIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n              {t('reportTitle')}\n            </Typography>\n          </div>\n          <Divider />\n          <SideNav routes={routes} />\n        </Drawer>\n      </Hidden>\n      <div className={classes.content}>\n        <div className={classes.toolbar} />\n        <Grid container direction=\"column\" spacing={2}>\n          <Grid item>{filter}</Grid>\n          <Grid item>{children}</Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default ReportLayout;\n","import React, { useState } from 'react';\nimport { Paper } from '@material-ui/core';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  formatDistance, formatSpeed, formatBoolean, formatDate, formatCoordinate,\n} from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { useAttributePreference, usePreference } from '../common/preferences';\nimport t from '../common/localization';\n\nconst Filter = ({ setItems }) => {\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    const response = await fetch(`/api/reports/route?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return <ReportFilter handleSubmit={handleSubmit} />;\n};\n\nconst RouteReportPage = () => {\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const speedUnit = useAttributePreference('speedUnit');\n  const coordinateFormat = usePreference('coordinateFormat');\n  const theme = useTheme();\n\n  const columns = [{\n    headerName: t('positionFixTime'),\n    field: 'fixTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('positionLatitude'),\n    field: 'latitude',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatCoordinate('latitude', value, coordinateFormat),\n  }, {\n    headerName: t('positionLongitude'),\n    field: 'longitude',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatCoordinate('longitude', value, coordinateFormat),\n  }, {\n    headerName: t('positionSpeed'),\n    field: 'speed',\n    type: 'number',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit),\n  }, {\n    headerName: t('positionAddress'),\n    field: 'address',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n  }, {\n    headerName: t('positionIgnition'),\n    field: 'ignition',\n    type: 'boolean',\n    width: theme.dimensions.columnWidthBoolean,\n    valueGetter: ({ row }) => row.attributes.ignition,\n    valueFormatter: ({ value }) => formatBoolean(value),\n  }, {\n    headerName: t('deviceTotalDistance'),\n    field: 'totalDistance',\n    type: 'number',\n    hide: true,\n    width: theme.dimensions.columnWidthNumber,\n    valueGetter: ({ row }) => row.attributes.totalDistance,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit),\n  }];\n\n  const [items, setItems] = useState([]);\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <Paper>\n        <DataGrid\n          rows={items}\n          columns={columns}\n          hideFooter\n          autoHeight\n        />\n      </Paper>\n    </ReportLayout>\n  );\n};\n\nexport default RouteReportPage;\n","import React, { useState } from 'react';\nimport {\n  Button, Dialog, DialogActions, DialogContent, FormControl, InputLabel, MenuItem, Select, TextField,\n} from '@material-ui/core';\n\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab';\nimport t from '../common/localization';\n\nconst AddAttributeDialog = ({ open, onResult, definitions }) => {\n  const filter = createFilterOptions({\n    stringify: (option) => option.name,\n  });\n\n  const options = Object.entries(definitions).map(([key, value]) => ({\n    key,\n    name: value.name,\n    type: value.type,\n  }));\n\n  const [key, setKey] = useState();\n  const [type, setType] = useState('string');\n\n  return (\n    <Dialog open={open} fullWidth maxWidth=\"xs\">\n      <DialogContent>\n        <Autocomplete\n          onChange={(_, option) => {\n            setKey(option && typeof option === 'object' ? option.key : option);\n            if (option && option.type) {\n              setType(option.type);\n            }\n          }}\n          filterOptions={(options, params) => {\n            const filtered = filter(options, params);\n            if (params.inputValue) {\n              filtered.push({\n                key: params.inputValue,\n                name: params.inputValue,\n              });\n            }\n            return filtered;\n          }}\n          options={options}\n          getOptionLabel={(option) => (option && typeof option === 'object' ? option.name : option)}\n          renderOption={(option) => option.name}\n          freeSolo\n          renderInput={(params) => (\n            <TextField {...params} label={t('sharedAttribute')} variant=\"filled\" margin=\"normal\" />\n          )}\n        />\n        <FormControl\n          variant=\"filled\"\n          margin=\"normal\"\n          fullWidth\n          disabled={key in definitions}\n        >\n          <InputLabel>{t('sharedType')}</InputLabel>\n          <Select\n            value={type}\n            onChange={(e) => setType(e.target.value)}\n          >\n            <MenuItem value=\"string\">{t('sharedTypeString')}</MenuItem>\n            <MenuItem value=\"number\">{t('sharedTypeNumber')}</MenuItem>\n            <MenuItem value=\"boolean\">{t('sharedTypeBoolean')}</MenuItem>\n          </Select>\n        </FormControl>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          color=\"primary\"\n          disabled={!key}\n          onClick={() => onResult({ key, type })}\n        >\n          {t('sharedAdd')}\n        </Button>\n        <Button\n          autoFocus\n          onClick={() => onResult(null)}\n        >\n          {t('sharedCancel')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddAttributeDialog;\n","import React, { useState } from 'react';\n\nimport {\n  Button, Checkbox, FilledInput, FormControl, FormControlLabel, Grid, IconButton, InputAdornment, InputLabel, makeStyles,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddIcon from '@material-ui/icons/Add';\nimport t from '../common/localization';\nimport AddAttributeDialog from './AddAttributeDialog';\n\nconst useStyles = makeStyles((theme) => ({\n  addButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(1),\n  },\n  removeButton: {\n    marginRight: theme.spacing(1.5),\n  },\n}));\n\nconst EditAttributesView = ({ attributes, setAttributes, definitions }) => {\n  const classes = useStyles();\n\n  const [addDialogShown, setAddDialogShown] = useState(false);\n\n  const updateAttribute = (key, value) => {\n    const updatedAttributes = { ...attributes };\n    updatedAttributes[key] = value;\n    setAttributes(updatedAttributes);\n  };\n\n  const deleteAttribute = (key) => {\n    const updatedAttributes = { ...attributes };\n    delete updatedAttributes[key];\n    setAttributes(updatedAttributes);\n  };\n\n  const getAttributeName = (key) => {\n    const definition = definitions[key];\n    return definition ? definition.name : key;\n  };\n\n  const getAttributeType = (value) => {\n    if (typeof value === 'number') {\n      return 'number';\n    } if (typeof value === 'boolean') {\n      return 'boolean';\n    }\n    return 'string';\n  };\n\n  const convertToList = (attributes) => {\n    const booleanList = [];\n    const otherList = [];\n    Object.keys(attributes || []).forEach((key) => {\n      const value = attributes[key];\n      const type = getAttributeType(value);\n      if (type === 'boolean') {\n        booleanList.push({ key, value, type });\n      } else {\n        otherList.push({ key, value, type });\n      }\n    });\n    return otherList.concat(booleanList);\n  };\n\n  const handleAddResult = (definition) => {\n    setAddDialogShown(false);\n    if (definition) {\n      switch (definition.type) {\n        case 'number':\n          updateAttribute(definition.key, 0);\n          break;\n        case 'boolean':\n          updateAttribute(definition.key, false);\n          break;\n        default:\n          updateAttribute(definition.key, '');\n          break;\n      }\n    }\n  };\n\n  return (\n    <>\n      {convertToList(attributes).map(({ key, value, type }) => {\n        if (type === 'boolean') {\n          return (\n            <Grid container direction=\"row\" justify=\"space-between\">\n              <FormControlLabel\n                control={(\n                  <Checkbox\n                    checked={value}\n                    onChange={(e) => updateAttribute(key, e.target.checked)}\n                  />\n                )}\n                label={getAttributeName(key)}\n              />\n              <IconButton className={classes.removeButton} onClick={() => deleteAttribute(key)}>\n                <CloseIcon />\n              </IconButton>\n            </Grid>\n          );\n        }\n        return (\n          <FormControl variant=\"filled\" margin=\"normal\" key={key}>\n            <InputLabel>{getAttributeName(key)}</InputLabel>\n            <FilledInput\n              type={type === 'number' ? 'number' : 'text'}\n              value={value || ''}\n              onChange={(e) => updateAttribute(key, e.target.value)}\n              endAdornment={(\n                <InputAdornment position=\"end\">\n                  <IconButton onClick={() => deleteAttribute(key)}>\n                    <CloseIcon />\n                  </IconButton>\n                </InputAdornment>\n                )}\n            />\n          </FormControl>\n        );\n      })}\n      <Button\n        size=\"large\"\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={() => setAddDialogShown(true)}\n        startIcon={<AddIcon />}\n        className={classes.addButton}\n      >\n        {t('sharedAdd')}\n      </Button>\n      <AddAttributeDialog\n        open={addDialogShown}\n        onResult={handleAddResult}\n        definitions={definitions}\n      />\n    </>\n  );\n};\n\nexport default EditAttributesView;\n","import t from '../common/localization';\n\nexport default {\n  speedLimit: {\n    name: t('attributeSpeedLimit'),\n    type: 'string',\n  },\n  'report.ignoreOdometer': {\n    name: t('attributeReportIgnoreOdometer'),\n    type: 'boolean',\n  },\n};\n","import t from '../common/localization';\n\nexport default {\n  notificationTokens: {\n    name: t('attributeNotificationTokens'),\n    type: 'string',\n  },\n  'web.liveRouteLength': {\n    name: t('attributeWebLiveRouteLength'),\n    type: 'number',\n  },\n  'web.selectZoom': {\n    name: t('attributeWebSelectZoom'),\n    type: 'number',\n  },\n  'web.maxZoom': {\n    name: t('attributeWebMaxZoom'),\n    type: 'number',\n  },\n  'ui.disableReport': {\n    name: t('attributeUiDisableReport'),\n    type: 'boolean',\n  },\n  'ui.disableEvents': {\n    name: t('attributeUiDisableEvents'),\n    type: 'boolean',\n  },\n  'ui.disableVehicleFetures': {\n    name: t('attributeUiDisableVehicleFetures'),\n    type: 'boolean',\n  },\n  'ui.disableDrivers': {\n    name: t('attributeUiDisableDrivers'),\n    type: 'boolean',\n  },\n  'ui.disableComputedAttributes': {\n    name: t('attributeUiDisableComputedAttributes'),\n    type: 'boolean',\n  },\n  'ui.disableCalendars': {\n    name: t('attributeUiDisableCalendars'),\n    type: 'boolean',\n  },\n  'ui.disableMaintenance': {\n    name: t('attributeUiDisableMaintenance'),\n    type: 'boolean',\n  },\n  'ui.hidePositionAttributes': {\n    name: t('attributeUiHidePositionAttributes'),\n    type: 'string',\n  },\n  distanceUnit: {\n    name: t('settingsDistanceUnit'),\n    type: 'string',\n  },\n  speedUnit: {\n    name: t('settingsSpeedUnit'),\n    type: 'string',\n  },\n  volumeUnit: {\n    name: t('settingsVolumeUnit'),\n    type: 'string',\n  },\n  timezone: {\n    name: t('sharedTimezone'),\n    type: 'string',\n  },\n};\n","import React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport CreateIcon from '@material-ui/icons/Create';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport PersonIcon from '@material-ui/icons/Person';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport BuildIcon from '@material-ui/icons/Build';\nimport PeopleIcon from '@material-ui/icons/People';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport { getIsAdmin, getUserId } from '../../common/selectors';\nimport t from '../../common/localization';\n\nconst accountRoute = {\n  name: t('settingsUser'),\n  icon: <PersonIcon />,\n};\n\nconst adminRoutes = [\n  { subheader: t('userAdmin') },\n  {\n    name: t('settingsServer'),\n    href: '/admin/server',\n    icon: <StorageIcon />,\n  },\n  {\n    name: t('settingsUsers'),\n    href: '/admin/users',\n    icon: <PeopleIcon />,\n  },\n  {\n    name: t('statisticsTitle'),\n    href: '/admin/statistics',\n    icon: <BarChartIcon />,\n  },\n];\n\nconst mainRoutes = [\n  accountRoute,\n  {\n    match: 'geofence',\n    name: t('sharedGeofences'),\n    href: '/geofences',\n    icon: <CreateIcon />,\n  },\n  {\n    match: 'notification',\n    name: t('sharedNotifications'),\n    href: '/settings/notifications',\n    icon: <NotificationsIcon />,\n  },\n  {\n    match: 'group',\n    name: t('settingsGroups'),\n    href: '/settings/groups',\n    icon: <FolderIcon />,\n  },\n  {\n    match: 'driver',\n    name: t('sharedDrivers'),\n    href: '/settings/drivers',\n    icon: <PersonIcon />,\n  },\n  {\n    match: 'attribute',\n    name: t('sharedComputedAttributes'),\n    href: '/settings/attributes',\n    icon: <StorageIcon />,\n  },\n  {\n    match: 'maintenance',\n    name: t('sharedMaintenance'),\n    href: '/settings/maintenances',\n    icon: <BuildIcon />,\n  },\n];\n\nexport default () => {\n  const isAdmin = useSelector(getIsAdmin);\n  const userId = useSelector(getUserId);\n  accountRoute.href = `/user/${userId}`;\n\n  return useMemo(() => [...mainRoutes, ...(isAdmin ? adminRoutes : [])], [\n    isAdmin,\n  ]);\n};\n","import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport {\n  Typography,\n  Divider,\n  Drawer,\n  makeStyles,\n  IconButton,\n  Hidden,\n} from '@material-ui/core';\n\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nimport SideNav from '../../components/SideNav';\nimport NavBar from '../../components/NavBar';\nimport t from '../../common/localization';\nimport useRoutes from './useRoutes';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    height: '100%',\n  },\n  drawerContainer: {\n    width: theme.dimensions.drawerWidthDesktop,\n  },\n  drawer: {\n    width: theme.dimensions.drawerWidthDesktop,\n    [theme.breakpoints.down('md')]: {\n      width: theme.dimensions.drawerWidthTablet,\n    },\n  },\n  content: {\n    flex: 1,\n    padding: theme.spacing(5, 3, 3, 3),\n    [theme.breakpoints.down('md')]: {\n      paddingTop: theme.spacing(10),\n    },\n  },\n  drawerHeader: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n  },\n  toolbar: {\n    [theme.breakpoints.down('md')]: {\n      ...theme.mixins.toolbar,\n    },\n  },\n}));\n\nconst OptionsLayout = ({ children }) => {\n  const classes = useStyles();\n  const location = useLocation();\n  const [openDrawer, setOpenDrawer] = useState(false);\n  const [optionTitle, setOptionTitle] = useState();\n  const routes = useRoutes();\n\n  useEffect(() => {\n    const activeRoute = routes.find(\n      (route) => route.href && location.pathname.match(route.match || route.href),\n    );\n    setOptionTitle(activeRoute?.name);\n  }, [location, routes]);\n\n  const title = `${t('settingsTitle')} / ${optionTitle}`;\n\n  return (\n    <div className={classes.root}>\n      <Hidden lgUp>\n        <NavBar setOpenDrawer={setOpenDrawer} title={title} />\n        <Drawer\n          variant=\"temporary\"\n          open={openDrawer}\n          onClose={() => setOpenDrawer(!openDrawer)}\n          classes={{ paper: classes.drawer }}\n        >\n          <SideNav routes={routes} />\n        </Drawer>\n      </Hidden>\n\n      <Hidden mdDown>\n        <Drawer\n          variant=\"permanent\"\n          classes={{ root: classes.drawerContainer, paper: classes.drawer }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton component=\"a\" href=\"/\">\n              <ArrowBackIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n              {t('settingsTitle')}\n            </Typography>\n          </div>\n          <Divider />\n          <SideNav routes={routes} />\n        </Drawer>\n      </Hidden>\n\n      <div className={classes.content}>{children}</div>\n    </div>\n  );\n};\n\nexport default OptionsLayout;\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, Button, FormControl, Container, Checkbox, FormControlLabel,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport t from '../common/localization';\nimport { sessionActions } from '../store';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport deviceAttributes from '../attributes/deviceAttributes';\nimport userAttributes from '../attributes/userAttributes';\nimport OptionsLayout from '../settings/OptionsLayout';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(2),\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-evenly',\n    '& > *': {\n      flexBasis: '33%',\n    },\n  },\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst ServerPage = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const item = useSelector((state) => state.session.server);\n  const setItem = (updatedItem) => dispatch(sessionActions.updateServer(updatedItem));\n\n  const handleSave = async () => {\n    const response = await fetch('/api/server', {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(item),\n    });\n\n    if (response.ok) {\n      history.goBack();\n    }\n  };\n\n  return (\n    <OptionsLayout>\n      <Container maxWidth=\"xs\" className={classes.container}>\n        {item && (\n          <>\n            <Accordion defaultExpanded>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedPreferences')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <TextField\n                  margin=\"normal\"\n                  value={item.announcement || ''}\n                  onChange={(event) => setItem({ ...item, announcement: event.target.value })}\n                  label={t('serverAnnouncement')}\n                  variant=\"filled\"\n                />\n              </AccordionDetails>\n            </Accordion>\n            <Accordion>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedPermissions')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <FormControlLabel\n                  control={<Checkbox checked={item.registration} onChange={(event) => setItem({ ...item, registration: event.target.checked })} />}\n                  label={t('serverRegistration')}\n                />\n                <FormControlLabel\n                  control={<Checkbox checked={item.readonly} onChange={(event) => setItem({ ...item, readonly: event.target.checked })} />}\n                  label={t('serverReadonly')}\n                />\n                <FormControlLabel\n                  control={<Checkbox checked={item.deviceReadonly} onChange={(event) => setItem({ ...item, deviceReadonly: event.target.checked })} />}\n                  label={t('userDeviceReadonly')}\n                />\n                <FormControlLabel\n                  control={<Checkbox checked={item.limitCommands} onChange={(event) => setItem({ ...item, limitCommands: event.target.checked })} />}\n                  label={t('userLimitCommands')}\n                />\n              </AccordionDetails>\n            </Accordion>\n            <Accordion>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedAttributes')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <EditAttributesView\n                  attributes={item.attributes}\n                  setAttributes={(attributes) => setItem({ ...item, attributes })}\n                  definitions={{ ...userAttributes, ...deviceAttributes }}\n                />\n              </AccordionDetails>\n            </Accordion>\n          </>\n        )}\n        <FormControl fullWidth margin=\"normal\">\n          <div className={classes.buttons}>\n            <Button type=\"button\" color=\"primary\" variant=\"outlined\" onClick={() => history.goBack()}>\n              {t('sharedCancel')}\n            </Button>\n            <Button type=\"button\" color=\"primary\" variant=\"contained\" onClick={handleSave}>\n              {t('sharedSave')}\n            </Button>\n          </div>\n        </FormControl>\n      </Container>\n    </OptionsLayout>\n  );\n};\n\nexport default ServerPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport t from '../common/localization';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport { formatBoolean } from '../common/formatter';\nimport OptionsLayout from '../settings/OptionsLayout';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst UsersView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('/api/users');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n            <TableCell>{t('userEmail')}</TableCell>\n            <TableCell>{t('userAdmin')}</TableCell>\n            <TableCell>{t('sharedDisabled')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n              <TableCell>{item.email}</TableCell>\n              <TableCell>{formatBoolean(item, 'administrator')}</TableCell>\n              <TableCell>{formatBoolean(item, 'disabled')}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst UsersPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={UsersView} editPath=\"/user\" endpoint=\"users\" />\n  </OptionsLayout>\n);\n\nexport default UsersPage;\n","import React from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\n\nimport t from './common/localization';\nimport { useEffectAsync } from './reactHelper';\nimport OptionsLayout from './settings/OptionsLayout';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(2),\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-evenly',\n    '& > *': {\n      flexBasis: '33%',\n    },\n  },\n}));\n\nconst EditItemView = ({\n  children, endpoint, item, setItem,\n}) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const { id } = useParams();\n\n  useEffectAsync(async () => {\n    if (id) {\n      const response = await fetch(`/api/${endpoint}/${id}`);\n      if (response.ok) {\n        setItem(await response.json());\n      }\n    } else {\n      setItem({});\n    }\n  }, [id]);\n\n  const handleSave = async () => {\n    let url = `/api/${endpoint}`;\n    if (id) {\n      url += `/${id}`;\n    }\n\n    const response = await fetch(url, {\n      method: !id ? 'POST' : 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(item),\n    });\n\n    if (response.ok) {\n      history.goBack();\n    }\n  };\n\n  return (\n    <OptionsLayout>\n      <Container maxWidth=\"xs\" className={classes.container}>\n        {children}\n        <FormControl fullWidth margin=\"normal\">\n          <div className={classes.buttons}>\n            <Button type=\"button\" color=\"primary\" variant=\"outlined\" onClick={() => history.goBack()}>\n              {t('sharedCancel')}\n            </Button>\n            <Button type=\"button\" color=\"primary\" variant=\"contained\" onClick={handleSave}>\n              {t('sharedSave')}\n            </Button>\n          </div>\n        </FormControl>\n      </Container>\n    </OptionsLayout>\n  );\n};\n\nexport default EditItemView;\n","import {\n  FormControl, InputLabel, MenuItem, Select,\n} from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useEffectAsync } from '../reactHelper';\n\nconst SelectField = ({\n  margin,\n  variant,\n  label,\n  multiple,\n  value,\n  emptyValue = 0,\n  onChange,\n  endpoint,\n  data,\n  keyGetter = (item) => item.id,\n  titleGetter = (item) => item.name,\n}) => {\n  const [items, setItems] = useState(data);\n\n  useEffectAsync(async () => {\n    if (endpoint) {\n      const response = await fetch(endpoint);\n      if (response.ok) {\n        setItems(await response.json());\n      }\n    }\n  }, []);\n\n  if (items) {\n    return (\n      <FormControl margin={margin} variant={variant}>\n        <InputLabel>{label}</InputLabel>\n        <Select\n          multiple={multiple}\n          value={value}\n          onChange={onChange}\n        >\n          {!multiple && emptyValue !== null\n            && <MenuItem value={emptyValue}>&nbsp;</MenuItem>}\n          {items.map((item) => (\n            <MenuItem key={keyGetter(item)} value={keyGetter(item)}>{titleGetter(item)}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    );\n  }\n  return null;\n};\n\nexport default SelectField;\n","import {\n  FormControl, InputLabel, MenuItem, Select,\n} from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useEffectAsync } from '../reactHelper';\n\nconst LinkField = ({\n  margin,\n  variant,\n  label,\n  endpointAll,\n  endpointLinked,\n  baseId,\n  keyBase,\n  keyLink,\n  keyGetter = (item) => item.id,\n  titleGetter = (item) => item.name,\n}) => {\n  const [items, setItems] = useState();\n  const [linked, setLinked] = useState();\n\n  useEffectAsync(async () => {\n    const response = await fetch(endpointAll);\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, []);\n\n  useEffectAsync(async () => {\n    const response = await fetch(endpointLinked);\n    if (response.ok) {\n      const data = await response.json();\n      setLinked(data.map((it) => it.id));\n    }\n  }, []);\n\n  const createBody = (linkId) => {\n    const body = {};\n    body[keyBase] = baseId;\n    body[keyLink] = linkId;\n    return body;\n  };\n\n  const onChange = async (event) => {\n    const oldValue = linked;\n    const newValue = event.target.value;\n    const results = [];\n    newValue.filter((it) => !oldValue.includes(it)).forEach((added) => {\n      results.push(fetch('/api/permissions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(createBody(added)),\n      }));\n    });\n    oldValue.filter((it) => !newValue.includes(it)).forEach((removed) => {\n      results.push(fetch('/api/permissions', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(createBody(removed)),\n      }));\n    });\n    await Promise.all(results);\n    setLinked(newValue);\n  };\n\n  if (items && linked) {\n    return (\n      <FormControl margin={margin} variant={variant}>\n        <InputLabel>{label}</InputLabel>\n        <Select\n          multiple\n          value={linked}\n          onChange={onChange}\n        >\n          {items.map((item) => (\n            <MenuItem key={keyGetter(item)} value={keyGetter(item)}>{titleGetter(item)}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    );\n  }\n  return null;\n};\n\nexport default LinkField;\n","export const prefixString = (prefix, value) => prefix + value.charAt(0).toUpperCase() + value.slice(1);\n\nexport const unprefixString = (prefix, value) => value.charAt(prefix.length).toLowerCase() + value.slice(prefix.length + 1);\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControlLabel, Checkbox,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from './common/localization';\nimport EditItemView from './EditItemView';\nimport EditAttributesView from './attributes/EditAttributesView';\nimport deviceAttributes from './attributes/deviceAttributes';\nimport SelectField from './form/SelectField';\nimport deviceCategories from './common/deviceCategories';\nimport LinkField from './form/LinkField';\nimport { prefixString } from './common/stringUtils';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst DevicePage = () => {\n  const classes = useStyles();\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"devices\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.uniqueId || ''}\n                onChange={(event) => setItem({ ...item, uniqueId: event.target.value })}\n                label={t('deviceIdentifier')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedExtra')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <SelectField\n                margin=\"normal\"\n                value={item.groupId || 0}\n                onChange={(event) => setItem({ ...item, groupId: Number(event.target.value) })}\n                endpoint=\"/api/groups\"\n                label={t('groupParent')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.phone || ''}\n                onChange={(event) => setItem({ ...item, phone: event.target.value })}\n                label={t('sharedPhone')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.model || ''}\n                onChange={(event) => setItem({ ...item, model: event.target.value })}\n                label={t('deviceModel')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.contact || ''}\n                onChange={(event) => setItem({ ...item, contact: event.target.value })}\n                label={t('deviceContact')}\n                variant=\"filled\"\n              />\n              <SelectField\n                margin=\"normal\"\n                value={item.category || 'default'}\n                emptyValue={null}\n                onChange={(event) => setItem({ ...item, category: event.target.value })}\n                data={deviceCategories.map((category) => ({\n                  id: category,\n                  name: t(`category${category.replace(/^\\w/, (c) => c.toUpperCase())}`),\n                }))}\n                label={t('deviceCategory')}\n                variant=\"filled\"\n              />\n              <FormControlLabel\n                control={<Checkbox checked={item.disabled} onChange={(event) => setItem({ ...item, disabled: event.target.checked })} />}\n                label={t('sharedDisabled')}\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={deviceAttributes}\n              />\n            </AccordionDetails>\n          </Accordion>\n          {item.id\n            && (\n            <Accordion>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedConnections')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/geofences\"\n                  endpointLinked={`/api/geofences?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"geofenceId\"\n                  label={t('sharedGeofences')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/notifications\"\n                  endpointLinked={`/api/notifications?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"notificationId\"\n                  titleGetter={(it) => t(prefixString('event', it.type))}\n                  label={t('sharedNotifications')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/drivers\"\n                  endpointLinked={`/api/drivers?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"driverId\"\n                  label={t('sharedDrivers')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/attributes/computed\"\n                  endpointLinked={`/api/attributes/computed?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"attributeId\"\n                  titleGetter={(it) => it.description}\n                  label={t('sharedComputedAttributes')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/maintenance\"\n                  endpointLinked={`/api/maintenance?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"maintenanceId\"\n                  label={t('sharedMaintenance')}\n                  variant=\"filled\"\n                />\n              </AccordionDetails>\n            </Accordion>\n            )}\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default DevicePage;\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from './common/localization';\nimport userAttributes from './attributes/userAttributes';\nimport EditItemView from './EditItemView';\nimport EditAttributesView from './attributes/EditAttributesView';\nimport LinkField from './form/LinkField';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst UserPage = () => {\n  const classes = useStyles();\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"users\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.email || ''}\n                onChange={(event) => setItem({ ...item, email: event.target.value })}\n                label={t('userEmail')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                type=\"password\"\n                onChange={(event) => setItem({ ...item, password: event.target.value })}\n                label={t('userPassword')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={userAttributes}\n              />\n            </AccordionDetails>\n          </Accordion>\n          {item.id\n            && (\n            <Accordion>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedConnections')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/devices?all=true\"\n                  endpointLinked={`/api/devices?userId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"userId\"\n                  keyLink=\"deviceId\"\n                  label={t('deviceTitle')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/groups?all=true\"\n                  endpointLinked={`/api/groups?userId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"userId\"\n                  keyLink=\"groupId\"\n                  label={t('settingsGroups')}\n                  variant=\"filled\"\n                />\n              </AccordionDetails>\n            </Accordion>\n            )}\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default UserPage;\n","import { useDispatch, useSelector, connect } from 'react-redux';\n\nimport { useHistory } from 'react-router-dom';\nimport { positionsActions, devicesActions, sessionActions } from './store';\nimport { useEffectAsync } from './reactHelper';\n\nconst displayNotifications = (events) => {\n  if ('Notification' in window) {\n    if (Notification.permission === 'granted') {\n      events.forEach((event) => {\n        const notification = new Notification(`Event: ${event.type}`);\n        setTimeout(notification.close.bind(notification), 4 * 1000);\n      });\n    } else if (Notification.permission !== 'denied') {\n      Notification.requestPermission((permission) => {\n        if (permission === 'granted') {\n          displayNotifications(events);\n        }\n      });\n    }\n  }\n};\n\nconst SocketController = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const authenticated = useSelector((state) => !!state.session.user);\n\n  const connectSocket = () => {\n    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n    const socket = new WebSocket(`${protocol}//${window.location.host}/api/socket`);\n\n    socket.onclose = () => {\n      setTimeout(() => connectSocket(), 60 * 1000);\n    };\n\n    socket.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      if (data.devices) {\n        dispatch(devicesActions.update(data.devices));\n      }\n      if (data.positions) {\n        dispatch(positionsActions.update(data.positions));\n      }\n      if (data.events) {\n        displayNotifications(data.events);\n      }\n    };\n  };\n\n  useEffectAsync(async () => {\n    const response = await fetch('/api/server');\n    if (response.ok) {\n      dispatch(sessionActions.updateServer(await response.json()));\n    }\n  }, []);\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('/api/devices');\n      if (response.ok) {\n        dispatch(devicesActions.refresh(await response.json()));\n      }\n      connectSocket();\n    } else {\n      const response = await fetch('/api/session');\n      if (response.ok) {\n        dispatch(sessionActions.updateUser(await response.json()));\n      } else {\n        history.push('/login');\n      }\n    }\n  }, [authenticated]);\n\n  return null;\n};\n\nexport default connect()(SocketController);\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport t from '../common/localization';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport { prefixString } from '../common/stringUtils';\nimport { formatBoolean } from '../common/formatter';\nimport OptionsLayout from './OptionsLayout';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst NotificationsView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('/api/notifications');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  const formatList = (prefix, value) => {\n    if (value) {\n      return value\n        .split(/[, ]+/)\n        .filter(Boolean)\n        .map((it) => t(prefixString(prefix, it)))\n        .join(', ');\n    }\n    return '';\n  };\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('notificationType')}</TableCell>\n            <TableCell>{t('notificationAlways')}</TableCell>\n            <TableCell>{t('sharedAlarms')}</TableCell>\n            <TableCell>{t('notificationNotificators')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{t(prefixString('event', item.type))}</TableCell>\n              <TableCell>{formatBoolean(item.always)}</TableCell>\n              <TableCell>{formatList('alarm', item.attributes.alarms)}</TableCell>\n              <TableCell>{formatList('notificator', item.notificators)}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst NotificationsPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={NotificationsView} editPath=\"/settings/notification\" endpoint=\"notifications\" />\n  </OptionsLayout>\n);\n\nexport default NotificationsPage;\n","import React, { useState } from 'react';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControlLabel, Checkbox,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t, { findStringKeys } from '../common/localization';\nimport EditItemView from '../EditItemView';\nimport { prefixString, unprefixString } from '../common/stringUtils';\nimport SelectField from '../form/SelectField';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst NotificationPage = () => {\n  const classes = useStyles();\n\n  const [item, setItem] = useState();\n\n  const alarms = findStringKeys((it) => it.startsWith('alarm')).map((it) => ({\n    key: unprefixString('alarm', it),\n    name: t(it),\n  }));\n\n  return (\n    <EditItemView endpoint=\"notifications\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <SelectField\n                margin=\"normal\"\n                value={item.type || 'alarm'}\n                emptyValue={null}\n                onChange={(e) => setItem({ ...item, type: e.target.value })}\n                endpoint=\"/api/notifications/types\"\n                keyGetter={(it) => it.type}\n                titleGetter={(it) => t(prefixString('event', it.type))}\n                label={t('sharedType')}\n                variant=\"filled\"\n              />\n              <SelectField\n                multiple\n                margin=\"normal\"\n                value={item.notificators ? item.notificators.split(/[, ]+/) : []}\n                onChange={(e) => setItem({ ...item, notificators: e.target.value.join() })}\n                endpoint=\"/api/notifications/notificators\"\n                keyGetter={(it) => it.type}\n                titleGetter={(it) => t(prefixString('notificator', it.type))}\n                label={t('notificationNotificators')}\n                variant=\"filled\"\n              />\n              {(!item.type || item.type === 'alarm')\n                && (\n                <SelectField\n                  multiple\n                  margin=\"normal\"\n                  value={item.attributes && item.attributes.alarms ? item.attributes.alarms.split(/[, ]+/) : []}\n                  onChange={(e) => setItem({ ...item, attributes: { ...item.attributes, alarms: e.target.value.join() } })}\n                  data={alarms}\n                  keyGetter={(it) => it.key}\n                  label={t('sharedAlarms')}\n                  variant=\"filled\"\n                />\n                )}\n              <FormControlLabel\n                control={(\n                  <Checkbox\n                    checked={item.always}\n                    onChange={(event) => setItem({ ...item, always: event.target.checked })}\n                  />\n                )}\n                label={t('notificationAlways')}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default NotificationPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport t from '../common/localization';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport OptionsLayout from './OptionsLayout';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst GroupsView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('/api/groups');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst GroupsPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={GroupsView} editPath=\"/settings/group\" endpoint=\"groups\" />\n  </OptionsLayout>\n);\n\nexport default GroupsPage;\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from '../common/localization';\nimport EditItemView from '../EditItemView';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport deviceAttributes from '../attributes/deviceAttributes';\nimport SelectField from '../form/SelectField';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst GroupPage = () => {\n  const classes = useStyles();\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"groups\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedExtra')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <SelectField\n                margin=\"normal\"\n                value={item.groupId || 0}\n                onChange={(event) => setItem({ ...item, groupId: Number(event.target.value) })}\n                endpoint=\"/api/groups\"\n                label={t('groupParent')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={deviceAttributes}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default GroupPage;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDispatch, useSelector } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MapIcon from '@material-ui/icons/Map';\nimport PersonIcon from '@material-ui/icons/Person';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport { sessionActions } from './store';\nimport t from './common/localization';\nimport * as selectors from './common/selectors';\n\nconst useStyles = makeStyles((theme) => ({\n  flex: {\n    flexGrow: 1,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  list: {\n    width: 250,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n}));\n\nconst MainToolbar = () => {\n  const dispatch = useDispatch();\n  const [drawer, setDrawer] = useState(false);\n  const classes = useStyles();\n  const history = useHistory();\n  const userId = useSelector(selectors.getUserId);\n\n  const openDrawer = () => { setDrawer(true); };\n  const closeDrawer = () => { setDrawer(false); };\n\n  const handleLogout = async () => {\n    const response = await fetch('/api/session', { method: 'DELETE' });\n    if (response.ok) {\n      dispatch(sessionActions.updateUser(null));\n      history.push('/login');\n    }\n  };\n\n  return (\n    <>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            className={classes.menuButton}\n            color=\"inherit\"\n            onClick={openDrawer}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\n            Traccar\n          </Typography>\n          <Button color=\"inherit\" onClick={handleLogout}>{t('loginLogout')}</Button>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={drawer} onClose={closeDrawer}>\n        <div\n          tabIndex={0}\n          className={classes.list}\n          role=\"button\"\n          onClick={closeDrawer}\n          onKeyDown={closeDrawer}\n        >\n          <List>\n            <ListItem button onClick={() => history.push('/')}>\n              <ListItemIcon>\n                <MapIcon />\n              </ListItemIcon>\n              <ListItemText primary={t('mapTitle')} />\n            </ListItem>\n            <ListItem button onClick={() => history.push('/replay')}>\n              <ListItemIcon>\n                <ReplayIcon />\n              </ListItemIcon>\n              <ListItemText primary={t('reportReplay')} />\n            </ListItem>\n            <ListItem button onClick={() => history.push('/reports/route')}>\n              <ListItemIcon>\n                <DescriptionIcon />\n              </ListItemIcon>\n              <ListItemText primary={t('reportTitle')} />\n            </ListItem>\n            <ListItem\n              button\n              disabled={!userId}\n              onClick={() => history.push('/settings/notifications')}\n            >\n              <ListItemIcon>\n                <PersonIcon />\n              </ListItemIcon>\n              <ListItemText primary={t('settingsTitle')} />\n            </ListItem>\n          </List>\n        </div>\n      </Drawer>\n    </>\n  );\n};\n\nexport default MainToolbar;\n","import React, { Fragment, useState } from 'react';\n\nimport {\n  makeStyles, Typography, ListItem, ListItemText, ListItemSecondaryAction, List, Container, Paper, Divider,\n} from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport t from './common/localization';\nimport { useEffectAsync } from './reactHelper';\nimport MainToolbar from './MainToolbar';\nimport { formatPosition } from './common/formatter';\nimport { prefixString } from './common/stringUtils';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst PositionPage = () => {\n  const classes = useStyles();\n\n  const { id } = useParams();\n\n  const [item, setItem] = useState();\n\n  useEffectAsync(async () => {\n    if (id) {\n      const response = await fetch(`/api/positions?id=${id}`, {\n        headers: {\n          Accept: 'application/json',\n        },\n      });\n      if (response.ok) {\n        const items = await response.json();\n        setItem(items[0]);\n      }\n    } else {\n      setItem({});\n    }\n  }, [id]);\n\n  const formatKey = (key) => t(prefixString('position', key)) || `${t('sharedAttribute')} \"${key}\"`;\n\n  const attributesList = () => {\n    const combinedList = { ...item, ...item.attributes };\n    return Object.entries(combinedList).filter(([, value]) => typeof value !== 'object');\n  };\n\n  return (\n    <>\n      <MainToolbar />\n      <Container maxWidth=\"sm\" className={classes.root}>\n        <Paper>\n          {item\n            && (\n            <List>\n              {attributesList().map(([key, value], index, list) => (\n                <Fragment key={key}>\n                  <ListItem>\n                    <ListItemText\n                      primary={formatKey(key)}\n                    />\n                    <ListItemSecondaryAction>\n                      <Typography variant=\"body2\">\n                        {formatPosition(value, key)}\n                      </Typography>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                  {index < list.length - 1 ? <Divider /> : null}\n                </Fragment>\n              ))}\n            </List>\n            )}\n        </Paper>\n      </Container>\n    </>\n  );\n};\n\nexport default PositionPage;\n","import React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport {\n  Grid, FormControl, InputLabel, Select, MenuItem,\n} from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { formatDate } from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { prefixString } from '../common/stringUtils';\nimport t from '../common/localization';\n\nconst Filter = ({ setItems }) => {\n  const [eventTypes, setEventTypes] = useState(['allEvents']);\n\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    eventTypes.forEach((it) => query.append('type', it));\n    const response = await fetch(`/api/reports/events?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return (\n    <ReportFilter handleSubmit={handleSubmit}>\n      <Grid item xs={12} sm={6}>\n        <FormControl variant=\"filled\" fullWidth>\n          <InputLabel>{t('reportEventTypes')}</InputLabel>\n          <Select value={eventTypes} onChange={(e) => setEventTypes(e.target.value)} multiple>\n            <MenuItem value=\"allEvents\">{t('eventAll')}</MenuItem>\n            <MenuItem value=\"deviceOnline\">{t('eventDeviceOnline')}</MenuItem>\n            <MenuItem value=\"deviceUnknown\">{t('eventDeviceUnknown')}</MenuItem>\n            <MenuItem value=\"deviceOffline\">{t('eventDeviceOffline')}</MenuItem>\n            <MenuItem value=\"deviceInactive\">{t('eventDeviceInactive')}</MenuItem>\n            <MenuItem value=\"deviceMoving\">{t('eventDeviceMoving')}</MenuItem>\n            <MenuItem value=\"deviceStopped\">{t('eventDeviceStopped')}</MenuItem>\n            <MenuItem value=\"deviceOverspeed\">{t('eventDeviceOverspeed')}</MenuItem>\n            <MenuItem value=\"deviceFuelDrop\">{t('eventDeviceFuelDrop')}</MenuItem>\n            <MenuItem value=\"commandResult\">{t('eventCommandResult')}</MenuItem>\n            <MenuItem value=\"geofenceEnter\">{t('eventGeofenceEnter')}</MenuItem>\n            <MenuItem value=\"geofenceExit\">{t('eventGeofenceExit')}</MenuItem>\n            <MenuItem value=\"alarm\">{t('eventAlarm')}</MenuItem>\n            <MenuItem value=\"ignitionOn\">{t('eventIgnitionOn')}</MenuItem>\n            <MenuItem value=\"ignitionOff\">{t('eventIgnitionOff')}</MenuItem>\n            <MenuItem value=\"maintenance\">{t('eventMaintenance')}</MenuItem>\n            <MenuItem value=\"textMessage\">{t('eventTextMessage')}</MenuItem>\n            <MenuItem value=\"driverChanged\">{t('eventDriverChanged')}</MenuItem>\n          </Select>\n        </FormControl>\n      </Grid>\n    </ReportFilter>\n  );\n};\n\nconst EventReportPage = () => {\n  const theme = useTheme();\n  const geofences = useSelector((state) => state.geofences.items);\n  const [items, setItems] = useState([]);\n\n  const formatGeofence = (value) => {\n    if (value > 0) {\n      const geofence = geofences[value];\n      return geofence ? geofence.name : '';\n    }\n    return null;\n  };\n\n  const columns = [{\n    headerName: t('positionFixTime'),\n    field: 'serverTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('sharedType'),\n    field: 'type',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => t(prefixString('event', value)),\n  }, {\n    headerName: t('sharedGeofence'),\n    field: 'geofenceId',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatGeofence(value),\n  }, {\n    headerName: t('sharedMaintenance'),\n    field: 'maintenanceId',\n    type: 'number',\n    width: theme.dimensions.columnWidthString,\n  }];\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <DataGrid\n        rows={items}\n        columns={columns}\n        hideFooter\n        autoHeight\n      />\n    </ReportLayout>\n  );\n};\n\nexport default EventReportPage;\n","import maplibregl from 'maplibre-gl';\nimport { useEffect } from 'react';\nimport { map } from './Map';\n\nconst ReplayPathMap = ({ positions }) => {\n  const id = 'replay';\n\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'Feature',\n        geometry: {\n          type: 'LineString',\n          coordinates: [],\n        },\n      },\n    });\n    map.addLayer({\n      source: id,\n      id,\n      type: 'line',\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round',\n      },\n      paint: {\n        'line-color': '#333',\n        'line-width': 5,\n      },\n    });\n\n    return () => {\n      map.removeLayer(id);\n      map.removeSource(id);\n    };\n  }, []);\n\n  useEffect(() => {\n    const coordinates = positions.map((item) => [item.longitude, item.latitude]);\n    map.getSource(id).setData({\n      type: 'Feature',\n      geometry: {\n        type: 'LineString',\n        coordinates,\n      },\n    });\n    if (coordinates.length) {\n      const bounds = coordinates.reduce((bounds, item) => bounds.extend(item), new maplibregl.LngLatBounds(coordinates[0], coordinates[0]));\n      map.fitBounds(bounds, {\n        padding: {\n          top: 50, bottom: 250, left: 25, right: 25,\n        },\n      });\n    }\n  }, [positions]);\n\n  return null;\n};\n\nexport default ReplayPathMap;\n","import React, { useState } from 'react';\nimport {\n  Accordion, AccordionDetails, AccordionSummary, Container, makeStyles, Paper, Slider, Tooltip, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MainToolbar from '../MainToolbar';\nimport Map from '../map/Map';\nimport t from '../common/localization';\nimport ReplayPathMap from '../map/ReplayPathMap';\nimport PositionsMap from '../map/PositionsMap';\nimport { formatPosition } from '../common/formatter';\nimport ReportFilter from './ReportFilter';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  controlPanel: {\n    position: 'absolute',\n    bottom: theme.spacing(5),\n    left: '50%',\n    transform: 'translateX(-50%)',\n  },\n  controlContent: {\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  configForm: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n}));\n\nconst TimeLabel = ({ children, open, value }) => (\n  <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\n    {children}\n  </Tooltip>\n);\n\nconst ReplayPage = () => {\n  const classes = useStyles();\n\n  const [expanded, setExpanded] = useState(true);\n  const [positions, setPositions] = useState([]);\n  const [index, setIndex] = useState(0);\n\n  const handleSubmit = async (deviceId, from, to, _, headers) => {\n    const query = new URLSearchParams({ deviceId, from, to });\n    const response = await fetch(`/api/positions?${query.toString()}`, { headers });\n    if (response.ok) {\n      setIndex(0);\n      setPositions(await response.json());\n      setExpanded(false);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <MainToolbar />\n      <Map>\n        <ReplayPathMap positions={positions} />\n        {index < positions.length\n          && <PositionsMap positions={[positions[index]]} />}\n      </Map>\n      <Container maxWidth=\"sm\" className={classes.controlPanel}>\n        {!!positions.length\n          && (\n          <Paper className={classes.controlContent}>\n            <Slider\n              max={positions.length - 1}\n              step={null}\n              marks={positions.map((_, index) => ({ value: index }))}\n              value={index}\n              onChange={(_, index) => setIndex(index)}\n              valueLabelDisplay=\"auto\"\n              valueLabelFormat={(i) => (i < positions.length ? formatPosition(positions[i], 'fixTime') : '')}\n              ValueLabelComponent={TimeLabel}\n            />\n          </Paper>\n          )}\n        <div>\n          <Accordion expanded={expanded} onChange={() => setExpanded(!expanded)}>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography align=\"center\">\n                {t('reportConfigure')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.configForm}>\n              <ReportFilter handleSubmit={handleSubmit} showOnly />\n            </AccordionDetails>\n          </Accordion>\n        </div>\n      </Container>\n    </div>\n  );\n};\n\nexport default ReplayPage;\n","import React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  formatDistance, formatSpeed, formatHours, formatDate, formatVolume,\n} from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { useAttributePreference } from '../common/preferences';\nimport t from '../common/localization';\n\nconst Filter = ({ setItems }) => {\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    const response = await fetch(`/api/reports/trips?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return <ReportFilter handleSubmit={handleSubmit} />;\n};\n\nconst TripReportPage = () => {\n  const theme = useTheme();\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const speedUnit = useAttributePreference('speedUnit');\n  const volumeUnit = useAttributePreference('volumeUnit');\n\n  const [items, setItems] = useState([]);\n\n  const columns = [{\n    headerName: t('reportStartTime'),\n    field: 'startTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('reportStartOdometer'),\n    field: 'startOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit),\n  }, {\n    headerName: t('reportStartAddress'),\n    field: 'startAddress',\n    type: 'string',\n    hide: true,\n    width: theme.dimensions.columnWidthString,\n  }, {\n    headerName: t('reportEndTime'),\n    field: 'endTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('reportEndOdometer'),\n    field: 'endOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit),\n  }, {\n    headerName: t('reportEndAddress'),\n    field: 'endAddress',\n    type: 'string',\n    hide: true,\n    width: theme.dimensions.columnWidthString,\n  }, {\n    headerName: t('sharedDistance'),\n    field: 'distance',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit),\n  }, {\n    headerName: t('reportAverageSpeed'),\n    field: 'averageSpeed',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit),\n  }, {\n    headerName: t('reportMaximumSpeed'),\n    field: 'maxSpeed',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit),\n  }, {\n    headerName: t('reportDuration'),\n    field: 'duration',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatHours(value),\n  }, {\n    headerName: t('reportSpentFuel'),\n    field: 'spentFuel',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    hide: true,\n    valueFormatter: ({ value }) => formatVolume(value, volumeUnit),\n  }, {\n    headerName: t('sharedDriver'),\n    field: 'driverName',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    hide: true,\n  }];\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <DataGrid\n        rows={items}\n        columns={columns}\n        hideFooter\n        autoHeight\n        getRowId={() => Math.random()}\n      />\n    </ReportLayout>\n  );\n};\n\nexport default TripReportPage;\n","import React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  formatDistance, formatHours, formatDate, formatVolume,\n} from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { useAttributePreference } from '../common/preferences';\nimport t from '../common/localization';\n\nconst Filter = ({ setItems }) => {\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    const response = await fetch(`/api/reports/stops?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return <ReportFilter handleSubmit={handleSubmit} />;\n};\n\nconst StopReportPage = () => {\n  const theme = useTheme();\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const volumeUnit = useAttributePreference('volumeUnit');\n\n  const [items, setItems] = useState([]);\n\n  const columns = [{\n    headerName: t('reportStartTime'),\n    field: 'startTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('positionOdometer'),\n    field: 'startOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit),\n  }, {\n    headerName: t('positionAddress'),\n    field: 'address',\n    type: 'string',\n    hide: true,\n    width: theme.dimensions.columnWidthString,\n  }, {\n    headerName: t('reportEndTime'),\n    field: 'endTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('reportDuration'),\n    field: 'duration',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatHours(value),\n  }, {\n    headerName: t('reportEngineHours'),\n    field: 'engineHours',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatHours(value),\n  }, {\n    headerName: t('reportSpentFuel'),\n    field: 'spentFuel',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    hide: true,\n    valueFormatter: ({ value }) => formatVolume(value, volumeUnit),\n  }];\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <DataGrid\n        rows={items}\n        columns={columns}\n        hideFooter\n        autoHeight\n        getRowId={() => Math.random()}\n      />\n    </ReportLayout>\n  );\n};\n\nexport default StopReportPage;\n","import React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { Grid, FormControlLabel, Checkbox } from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  formatDistance, formatHours, formatDate, formatSpeed, formatVolume,\n} from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { useAttributePreference } from '../common/preferences';\nimport t from '../common/localization';\n\nconst Filter = ({ setItems }) => {\n  const [daily, setDaily] = useState(false);\n\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, daily, mail,\n    });\n    const response = await fetch(`/api/reports/summary?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return (\n    <ReportFilter handleSubmit={handleSubmit}>\n      <Grid item xs={12} sm={6}>\n        <FormControlLabel\n          control={<Checkbox checked={daily} onChange={(e) => setDaily(e.target.checked)} />}\n          label={t('reportDaily')}\n        />\n      </Grid>\n    </ReportFilter>\n  );\n};\n\nconst SummaryReportPage = () => {\n  const theme = useTheme();\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const speedUnit = useAttributePreference('speedUnit');\n  const volumeUnit = useAttributePreference('volumeUnit');\n\n  const [items, setItems] = useState([]);\n\n  const columns = [{\n    headerName: t('reportStartDate'),\n    field: 'startTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value, 'YYYY-MM-DD'),\n  }, {\n    headerName: t('sharedDistance'),\n    field: 'distance',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit),\n  }, {\n    headerName: t('reportStartOdometer'),\n    field: 'startOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit),\n  }, {\n    headerName: t('reportEndOdometer'),\n    field: 'endOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit),\n  }, {\n    headerName: t('reportAverageSpeed'),\n    field: 'averageSpeed',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit),\n  }, {\n    headerName: t('reportMaximumSpeed'),\n    field: 'maxSpeed',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit),\n  }, {\n    headerName: t('reportEngineHours'),\n    field: 'engineHours',\n    type: 'string',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatHours(value),\n  }, {\n    headerName: t('reportSpentFuel'),\n    field: 'spentFuel',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    hide: true,\n    valueFormatter: ({ value }) => formatVolume(value, volumeUnit),\n  }];\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <DataGrid\n        rows={items}\n        columns={columns}\n        hideFooter\n        autoHeight\n        getRowId={() => Math.random()}\n      />\n    </ReportLayout>\n  );\n};\n\nexport default SummaryReportPage;\n","import React from 'react';\nimport { withWidth } from '@material-ui/core';\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\n\nconst CustomizedAxisTick = ({ x, y, payload }) => {\n  if (!payload.value) {\n    return payload.value;\n  }\n  const parts = payload.value.split(' ');\n  return (\n    <g transform={`translate(${x},${y})`}>\n      <text x={0} y={0} dy={16} textAnchor=\"end\" fill=\"#666\" transform=\"rotate(-35)\">{parts[0]}</text>\n      <text x={0} y={16} dy={16} textAnchor=\"end\" fill=\"#666\" transform=\"rotate(-35)\">{parts[1]}</text>\n    </g>\n  );\n};\n\nconst Graph = ({ type, items }) => (\n  <ResponsiveContainer height={400} width=\"100%\" debounce={1}>\n    <LineChart data={items}>\n      <XAxis dataKey=\"fixTime\" tick={<CustomizedAxisTick />} height={60} />\n      <YAxis />\n      <CartesianGrid strokeDasharray=\"3 3\" />\n      <Tooltip />\n      <Legend />\n      <Line type=\"natural\" dataKey={type} />\n    </LineChart>\n  </ResponsiveContainer>\n);\n\nexport default withWidth()(Graph);\n","const speedConverter = (unit) => {\n  switch (unit) {\n    case 'kmh':\n      return 1.852;\n    case 'mph':\n      return 1.15078;\n    case 'kn':\n    default:\n      return 1;\n  }\n};\n\nconst distanceConverter = (unit) => {\n  switch (unit) {\n    case 'mi':\n      return 0.000621371;\n    case 'nmi':\n      return 0.000539957;\n    case 'km':\n    default:\n      return 0.001;\n  }\n};\n\nexport const speedFromKnots = (value, unit) => value * speedConverter(unit);\n\nexport const speedToKnots = (value, unit) => value / speedConverter(unit);\n\nexport const distanceFromMeters = (value, unit) => value * distanceConverter(unit);\n\nexport const distanceToMeters = (value, unit) => value / distanceConverter(unit);\n","import React, { useState } from 'react';\nimport {\n  Grid, FormControl, InputLabel, Select, MenuItem,\n} from '@material-ui/core';\nimport ReportLayout from './ReportLayout';\nimport ReportFilter from './ReportFilter';\nimport Graph from './Graph';\nimport { useAttributePreference } from '../common/preferences';\nimport { formatDate } from '../common/formatter';\nimport { speedFromKnots } from '../common/converter';\nimport t from '../common/localization';\n\nconst Filter = ({ children, setItems }) => {\n  const speedUnit = useAttributePreference('speedUnit');\n\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    const response = await fetch(`/api/reports/route?${query.toString()}`, { headers });\n    if (response.ok) {\n      const positions = await response.json();\n      const formattedPositions = positions.map((position) => ({\n        speed: Number(speedFromKnots(position.speed, speedUnit)),\n        altitude: position.altitude,\n        accuracy: position.accuracy,\n        fixTime: formatDate(position.fixTime),\n      }));\n      setItems(formattedPositions);\n    }\n  };\n  return (\n    <>\n      <ReportFilter handleSubmit={handleSubmit} showOnly />\n      {children}\n    </>\n  );\n};\n\nconst ChartType = ({ type, setType }) => (\n  <Grid container spacing={3}>\n    <Grid item xs={12} sm={6}>\n      <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\n        <InputLabel>{t('reportChartType')}</InputLabel>\n        <Select value={type} onChange={(e) => setType(e.target.value)}>\n          <MenuItem value=\"speed\">{t('positionSpeed')}</MenuItem>\n          <MenuItem value=\"accuracy\">{t('positionAccuracy')}</MenuItem>\n          <MenuItem value=\"altitude\">{t('positionAltitude')}</MenuItem>\n        </Select>\n      </FormControl>\n    </Grid>\n  </Grid>\n);\n\nconst ChartReportPage = () => {\n  const [items, setItems] = useState([]);\n  const [type, setType] = useState('speed');\n\n  return (\n    <ReportLayout filter={(\n      <Filter setItems={setItems}>\n        <ChartType type={type} setType={setType} />\n      </Filter>\n    )}\n    >\n      <Graph items={items} type={type} />\n    </ReportLayout>\n  );\n};\n\nexport default ChartReportPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport t from '../common/localization';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport OptionsLayout from './OptionsLayout';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst DriversView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('/api/drivers');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n            <TableCell>{t('deviceIdentifier')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n              <TableCell>{item.uniqueId}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst DriversPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={DriversView} editPath=\"/settings/driver\" endpoint=\"drivers\" />\n  </OptionsLayout>\n);\n\nexport default DriversPage;\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from '../common/localization';\nimport EditItemView from '../EditItemView';\nimport EditAttributesView from '../attributes/EditAttributesView';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst DriverPage = () => {\n  const classes = useStyles();\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"drivers\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.uniqueId || ''}\n                onChange={(event) => setItem({ ...item, uniqueId: event.target.value })}\n                label={t('deviceIdentifier')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={{}}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default DriverPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useSelector } from 'react-redux';\nimport t from '../common/localization';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport OptionsLayout from './OptionsLayout';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst ComputedAttributeView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n\n  const [items, setItems] = useState([]);\n  const adminEnabled = useSelector((state) => state.session.user && state.session.user.administrator);\n\n  useEffectAsync(async () => {\n    const response = await fetch('/api/attributes/computed');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            {adminEnabled && <TableCell className={classes.columnAction} />}\n            <TableCell>{t('sharedDescription')}</TableCell>\n            <TableCell>{t('sharedAttribute')}</TableCell>\n            <TableCell>{t('sharedExpression')}</TableCell>\n            <TableCell>{t('sharedType')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              {adminEnabled\n              && (\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              )}\n              <TableCell>{item.description}</TableCell>\n              <TableCell>{item.attribute}</TableCell>\n              <TableCell>{item.expression}</TableCell>\n              <TableCell>{item.type}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst ComputedAttributesPage = () => (\n  <OptionsLayout>\n\n    <EditCollectionView content={ComputedAttributeView} editPath=\"/settings/attribute\" endpoint=\"attributes/computed\" />\n  </OptionsLayout>\n);\n\nexport default ComputedAttributesPage;\n","import t from '../common/localization';\n\nexport default {\n  raw: {\n    name: t('positionRaw'),\n    type: 'string',\n  },\n  index: {\n    name: t('positionIndex'),\n    type: 'number',\n  },\n  ignition: {\n    name: t('positionIgnition'),\n    type: 'boolean',\n  },\n  odometer: {\n    name: t('positionOdometer'),\n    type: 'number',\n    dataType: 'distance',\n  },\n};\n","import React, { useState } from 'react';\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControl, InputLabel, MenuItem, Select, TextField,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from '../common/localization';\nimport EditItemView from '../EditItemView';\nimport positionAttributes from '../attributes/positionAttributes';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst ComputedAttributePage = () => {\n  const classes = useStyles();\n  const [item, setItem] = useState();\n  const [key, setKey] = useState();\n\n  const options = Object.entries(positionAttributes).map(([key, value]) => ({\n    key,\n    name: value.name,\n    type: value.type,\n  }));\n\n  const handleChange = (event) => {\n    const newValue = event.target.value;\n    setKey(newValue);\n    const positionAttribute = positionAttributes[newValue];\n    if (positionAttribute && positionAttribute.type) {\n      setItem({ ...item, attribute: newValue, type: positionAttribute.type });\n    } else {\n      setItem({ ...item, attribute: newValue });\n    }\n  };\n\n  return (\n    <EditItemView endpoint=\"/attributes/computed\" item={item} setItem={setItem}>\n      {item\n        && (\n        <Accordion defaultExpanded>\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n            <Typography variant=\"subtitle1\">\n              {t('sharedRequired')}\n            </Typography>\n          </AccordionSummary>\n          <AccordionDetails className={classes.details}>\n            <TextField\n              margin=\"normal\"\n              value={item.description || ''}\n              onChange={(event) => setItem({ ...item, description: event.target.value })}\n              label={t('sharedDescription')}\n              variant=\"filled\"\n            />\n            <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\n              <InputLabel>{t('sharedAttribute')}</InputLabel>\n              <Select\n                value={item.attribute || ''}\n                onChange={handleChange}\n              >\n                {options.map((option) => (\n                  <MenuItem key={option.key} value={option.key}>{option.name}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <TextField\n              margin=\"normal\"\n              value={item.expression || ''}\n              onChange={(event) => setItem({ ...item, expression: event.target.value })}\n              label={t('sharedExpression')}\n              multiline\n              rows={4}\n              variant=\"filled\"\n            />\n            <FormControl\n              variant=\"filled\"\n              margin=\"normal\"\n              fullWidth\n              disabled={key in positionAttributes}\n            >\n              <InputLabel>{t('sharedType')}</InputLabel>\n              <Select\n                value={item.type || ''}\n                onChange={(event) => setItem({ ...item, type: event.target.value })}\n              >\n                <MenuItem value=\"string\">{t('sharedTypeString')}</MenuItem>\n                <MenuItem value=\"number\">{t('sharedTypeNumber')}</MenuItem>\n                <MenuItem value=\"boolean\">{t('sharedTypeBoolean')}</MenuItem>\n              </Select>\n            </FormControl>\n          </AccordionDetails>\n        </Accordion>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default ComputedAttributePage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport t from '../common/localization';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\n\nimport positionAttributes from '../attributes/positionAttributes';\nimport { formatDistance, formatSpeed } from '../common/formatter';\nimport { useAttributePreference } from '../common/preferences';\nimport OptionsLayout from './OptionsLayout';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst MaintenancesView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n\n  const [items, setItems] = useState([]);\n  const speedUnit = useAttributePreference('speedUnit');\n  const distanceUnit = useAttributePreference('distanceUnit');\n\n  useEffectAsync(async () => {\n    const response = await fetch('/api/maintenance');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  const convertAttribute = (key, value) => {\n    const attribute = positionAttributes[key];\n    if (attribute && attribute.dataType) {\n      switch (attribute.dataType) {\n        case 'speed':\n          return formatSpeed(value, speedUnit);\n        case 'distance':\n          return formatDistance(value, distanceUnit);\n        default:\n          return value;\n      }\n    }\n\n    return value;\n  };\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n            <TableCell>{t('sharedType')}</TableCell>\n            <TableCell>{t('maintenanceStart')}</TableCell>\n            <TableCell>{t('maintenancePeriod')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n              <TableCell>{item.type}</TableCell>\n              <TableCell>{convertAttribute(item.type, item.start)}</TableCell>\n              <TableCell>{convertAttribute(item.type, item.period)}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst MaintenacesPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={MaintenancesView} editPath=\"/settings/maintenance\" endpoint=\"maintenance\" />\n  </OptionsLayout>\n);\n\nexport default MaintenacesPage;\n","import React, { useState } from 'react';\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, TextField, FormControl, InputLabel, MenuItem, Select,\n} from '@material-ui/core';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from '../common/localization';\nimport { prefixString } from '../common/stringUtils';\nimport EditItemView from '../EditItemView';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport positionAttributes from '../attributes/positionAttributes';\nimport { useAttributePreference } from '../common/preferences';\nimport {\n  speedFromKnots, speedToKnots, distanceFromMeters, distanceToMeters,\n} from '../common/converter';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst MaintenancePage = () => {\n  const classes = useStyles();\n  const [item, setItem] = useState();\n  const [labels, setLabels] = useState({ start: '', period: '' });\n\n  const speedUnit = useAttributePreference('speedUnit');\n  const distanceUnit = useAttributePreference('distanceUnit');\n\n  const convertToList = (attributes) => {\n    const otherList = [];\n    Object.keys(attributes).forEach((key) => {\n      const value = attributes[key];\n      if (value.type === 'number') {\n        otherList.push({ key, name: value.name, type: value.type });\n      }\n    });\n    return otherList;\n  };\n\n  const onMaintenanceTypeChange = (event) => {\n    const newValue = event.target.value;\n    setItem({\n      ...item, type: newValue, start: 0, period: 0,\n    });\n\n    const attribute = positionAttributes[newValue];\n    if (attribute && attribute.dataType) {\n      switch (attribute.dataType) {\n        case 'distance':\n          setLabels({ ...labels, start: t(prefixString('shared', distanceUnit)), period: t(prefixString('shared', distanceUnit)) });\n          break;\n        case 'speed':\n          setLabels({ ...labels, start: t(prefixString('shared', speedUnit)), period: t(prefixString('shared', speedUnit)) });\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const rawToValue = (value) => {\n    const attribute = positionAttributes[item.type];\n    if (attribute && attribute.dataType) {\n      switch (attribute.dataType) {\n        case 'speed':\n          return speedFromKnots(value, speedUnit);\n        case 'distance':\n          return distanceFromMeters(value, distanceUnit);\n        default:\n          return value;\n      }\n    }\n    return value;\n  };\n\n  const valueToRaw = (value) => {\n    const attribute = positionAttributes[item.type];\n    if (attribute && attribute.dataType) {\n      switch (attribute.dataType) {\n        case 'speed':\n          return speedToKnots(value, speedUnit);\n        case 'distance':\n          return distanceToMeters(value, distanceUnit);\n        default:\n          return value;\n      }\n    }\n    return value;\n  };\n\n  return (\n    <EditItemView endpoint=\"maintenance\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\n                <InputLabel>{t('sharedType')}</InputLabel>\n                <Select\n                  value={item.type || ''}\n                  onChange={onMaintenanceTypeChange}\n                >\n                  {convertToList(positionAttributes).map(({ key, name }) => (\n                    <MenuItem key={key} value={key}>{name}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              <TextField\n                margin=\"normal\"\n                type=\"number\"\n                value={rawToValue(item.start) || ''}\n                onChange={(event) => setItem({ ...item, start: valueToRaw(event.target.value) })}\n                label={t('maintenanceStart')}\n                variant=\"filled\"\n                InputProps={{\n                  endAdornment: <InputAdornment position=\"start\">{labels.start}</InputAdornment>,\n                }}\n              />\n              <TextField\n                margin=\"normal\"\n                type=\"number\"\n                value={rawToValue(item.period) || ''}\n                onChange={(event) => setItem({ ...item, period: valueToRaw(event.target.value) })}\n                label={t('maintenancePeriod')}\n                variant=\"filled\"\n                InputProps={{\n                  endAdornment: <InputAdornment position=\"start\">{labels.period}</InputAdornment>,\n                }}\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={{}}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default MaintenancePage;\n","import React, { useState } from 'react';\nimport {\n  FormControl, InputLabel, Select, MenuItem, TextField, Button, TableContainer, Table, TableRow, TableCell, TableHead, TableBody, Paper,\n} from '@material-ui/core';\nimport moment from 'moment';\nimport t from '../common/localization';\nimport { formatDate } from '../common/formatter';\nimport OptionsLayout from '../settings/OptionsLayout';\n\nconst Filter = ({ setItems }) => {\n  const [period, setPeriod] = useState('today');\n  const [from, setFrom] = useState(moment().subtract(1, 'hour'));\n  const [to, setTo] = useState(moment());\n\n  const handleClick = async () => {\n    let selectedFrom;\n    let selectedTo;\n    switch (period) {\n      case 'today':\n        selectedFrom = moment().startOf('day');\n        selectedTo = moment().endOf('day');\n        break;\n      case 'yesterday':\n        selectedFrom = moment().subtract(1, 'day').startOf('day');\n        selectedTo = moment().subtract(1, 'day').endOf('day');\n        break;\n      case 'thisWeek':\n        selectedFrom = moment().startOf('week');\n        selectedTo = moment().endOf('week');\n        break;\n      case 'previousWeek':\n        selectedFrom = moment().subtract(1, 'week').startOf('week');\n        selectedTo = moment().subtract(1, 'week').endOf('week');\n        break;\n      case 'thisMonth':\n        selectedFrom = moment().startOf('month');\n        selectedTo = moment().endOf('month');\n        break;\n      case 'previousMonth':\n        selectedFrom = moment().subtract(1, 'month').startOf('month');\n        selectedTo = moment().subtract(1, 'month').endOf('month');\n        break;\n      default:\n        selectedFrom = from;\n        selectedTo = to;\n        break;\n    }\n\n    const query = new URLSearchParams({ from: selectedFrom.toISOString(), to: selectedTo.toISOString() });\n    const response = await fetch(`/api/statistics?${query.toString()}`, { Accept: 'application/json' });\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  };\n\n  return (\n    <>\n      <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\n        <InputLabel>{t('reportPeriod')}</InputLabel>\n        <Select value={period} onChange={(e) => setPeriod(e.target.value)}>\n          <MenuItem value=\"today\">{t('reportToday')}</MenuItem>\n          <MenuItem value=\"yesterday\">{t('reportYesterday')}</MenuItem>\n          <MenuItem value=\"thisWeek\">{t('reportThisWeek')}</MenuItem>\n          <MenuItem value=\"previousWeek\">{t('reportPreviousWeek')}</MenuItem>\n          <MenuItem value=\"thisMonth\">{t('reportThisMonth')}</MenuItem>\n          <MenuItem value=\"previousMonth\">{t('reportPreviousMonth')}</MenuItem>\n          <MenuItem value=\"custom\">{t('reportCustom')}</MenuItem>\n        </Select>\n      </FormControl>\n      {period === 'custom' && (\n        <TextField\n          margin=\"normal\"\n          variant=\"filled\"\n          label={t('reportFrom')}\n          type=\"datetime-local\"\n          value={from.format(moment.HTML5_FMT.DATETIME_LOCAL)}\n          onChange={(e) => setFrom(moment(e.target.value, moment.HTML5_FMT.DATETIME_LOCAL))}\n          fullWidth\n        />\n      )}\n      {period === 'custom' && (\n        <TextField\n          margin=\"normal\"\n          variant=\"filled\"\n          label={t('reportTo')}\n          type=\"datetime-local\"\n          value={to.format(moment.HTML5_FMT.DATETIME_LOCAL)}\n          onChange={(e) => setTo(moment(e.target.value, moment.HTML5_FMT.DATETIME_LOCAL))}\n          fullWidth\n        />\n      )}\n      <Button variant=\"contained\" color=\"primary\" onClick={handleClick} fullWidth>{t('reportShow')}</Button>\n    </>\n  );\n};\n\nconst StatisticsPage = () => {\n  const [items, setItems] = useState([]);\n\n  return (\n    <OptionsLayout>\n      <Filter setItems={setItems} />\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{t('statisticsCaptureTime')}</TableCell>\n              <TableCell>{t('statisticsActiveUsers')}</TableCell>\n              <TableCell>{t('statisticsActiveDevices')}</TableCell>\n              <TableCell>{t('statisticsRequests')}</TableCell>\n              <TableCell>{t('statisticsMessagesReceived')}</TableCell>\n              <TableCell>{t('statisticsMessagesStored')}</TableCell>\n              <TableCell>{t('notificatorMail')}</TableCell>\n              <TableCell>{t('notificatorSms')}</TableCell>\n              <TableCell>{t('statisticsGeocoder')}</TableCell>\n              <TableCell>{t('statisticsGeolocation')}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {items.map((item) => (\n              <TableRow key={item.id}>\n                <TableCell>{formatDate(item.captureTime)}</TableCell>\n                <TableCell>{item.activeUsers}</TableCell>\n                <TableCell>{item.activeDevices}</TableCell>\n                <TableCell>{item.requests}</TableCell>\n                <TableCell>{item.messagesReceived}</TableCell>\n                <TableCell>{item.messagesStored}</TableCell>\n                <TableCell>{item.mailSent}</TableCell>\n                <TableCell>{item.smsSent}</TableCell>\n                <TableCell>{item.geocoderRequests}</TableCell>\n                <TableCell>{item.geolocationRequests}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </OptionsLayout>\n  );\n};\n\nexport default StatisticsPage;\n","import { useDispatch, useSelector, connect } from 'react-redux';\n\nimport {\n  geofencesActions, groupsActions, driversActions, maintenancesActions,\n} from './store';\nimport { useEffectAsync } from './reactHelper';\n\nconst CachingController = () => {\n  const authenticated = useSelector((state) => !!state.session.user);\n  const dispatch = useDispatch();\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('/api/geofences');\n      if (response.ok) {\n        dispatch(geofencesActions.update(await response.json()));\n      }\n    }\n  }, [authenticated]);\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('/api/groups');\n      if (response.ok) {\n        dispatch(groupsActions.update(await response.json()));\n      }\n    }\n  }, [authenticated]);\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('/api/drivers');\n      if (response.ok) {\n        dispatch(driversActions.update(await response.json()));\n      }\n    }\n  }, [authenticated]);\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('/api/maintenance');\n      if (response.ok) {\n        dispatch(maintenancesActions.update(await response.json()));\n      }\n    }\n  }, [authenticated]);\n\n  return null;\n};\n\nexport default connect()(CachingController);\n","import React from 'react';\nimport { useMediaQuery, makeStyles, Paper } from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    height: '100vh',\n  },\n  sidebar: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: theme.palette.secondary.contrastText,\n    background: theme.palette.common.purple,\n    paddingBottom: theme.spacing(5),\n    width: theme.dimensions.sidebarWidth,\n    [theme.breakpoints.down('md')]: {\n      width: theme.dimensions.sidebarWidthTablet,\n    },\n    [theme.breakpoints.down('xs')]: {\n      width: '0px',\n    },\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flex: 1,\n    boxShadow: '-2px 0px 16px rgba(0, 0, 0, 0.25)',\n    [theme.breakpoints.up('lg')]: {\n      padding: theme.spacing(0, 25, 0, 0),\n    },\n  },\n  form: {\n    maxWidth: theme.spacing(52),\n    padding: theme.spacing(5),\n    width: '100%',\n  },\n}));\n\nconst StartPage = ({ children }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <main className={classes.root}>\n      <div className={classes.sidebar}>\n        {!useMediaQuery(theme.breakpoints.down('md'))\n          && (\n          <svg height=\"64\" width=\"240\">\n            <use xlinkHref=\"/logo.svg#img\" />\n          </svg>\n          )}\n      </div>\n      <Paper className={classes.paper}>\n        <form className={classes.form}>\n          { children }\n        </form>\n      </Paper>\n    </main>\n  );\n};\n\nexport default StartPage;\n","import React, { useState } from 'react';\nimport {\n  Grid, useMediaQuery, makeStyles, InputLabel, Select, MenuItem, FormControl, Button, TextField, Link,\n} from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { sessionActions } from '../../store';\nimport t from '../../common/localization';\nimport StartPage from '../../StartPage';\n\nconst useStyles = makeStyles((theme) => ({\n  logoContainer: {\n    textAlign: 'center',\n    color: theme.palette.primary.main,\n  },\n  resetPassword: {\n    cursor: 'pointer',\n  },\n}));\n\nconst LoginForm = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const theme = useTheme();\n\n  const [failed, setFailed] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const registrationEnabled = useSelector((state) => (state.session.server ? state.session.server.registration : false));\n  const emailEnabled = useSelector((state) => (state.session.server ? state.session.server.emailEnabled : false));\n\n  const handleEmailChange = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value);\n  };\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    const response = await fetch('/api/session', {\n      method: 'POST',\n      body: new URLSearchParams(`email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`),\n    });\n    if (response.ok) {\n      const user = await response.json();\n      dispatch(sessionActions.updateUser(user));\n      history.push('/');\n    } else {\n      setFailed(true);\n      setPassword('');\n    }\n  };\n\n  const handleSpecialKey = (e) => {\n    if (e.keyCode === 13 && email && password) {\n      handleLogin(e);\n    }\n  };\n\n  return (\n    <StartPage>\n      <Grid container direction=\"column\" spacing={2}>\n        {useMediaQuery(theme.breakpoints.down('md'))\n          && (\n          <Grid item className={classes.logoContainer}>\n            <svg height=\"64\" width=\"240\">\n              <use xlinkHref=\"/logo.svg#img\" />\n            </svg>\n          </Grid>\n          )}\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            error={failed}\n            label={t('userEmail')}\n            name=\"email\"\n            value={email}\n            autoComplete=\"email\"\n            autoFocus\n            onChange={handleEmailChange}\n            onKeyUp={handleSpecialKey}\n            helperText={failed && 'Invalid username or password'}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            error={failed}\n            label={t('userPassword')}\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            autoComplete=\"current-password\"\n            onChange={handlePasswordChange}\n            onKeyUp={handleSpecialKey}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <Button\n            onClick={handleLogin}\n            onKeyUp={handleSpecialKey}\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={!email || !password}\n            fullWidth\n          >\n            {t('loginLogin')}\n          </Button>\n        </Grid>\n        <Grid item container>\n          <Grid item>\n            <Button onClick={() => history.push('/register')} disabled={!registrationEnabled} color=\"secondary\">\n              {t('loginRegister')}\n            </Button>\n          </Grid>\n          <Grid item xs>\n            <FormControl variant=\"filled\" fullWidth>\n              <InputLabel>{t('loginLanguage')}</InputLabel>\n              <Select>\n                <MenuItem value=\"en\">English</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n        {emailEnabled && (\n        <Grid item container justify=\"flex-end\">\n          <Grid item>\n            <Link onClick={() => history.push('/reset-password')} className={classes.resetPassword} underline=\"none\">{t('loginReset')}</Link>\n          </Grid>\n        </Grid>\n        )}\n      </Grid>\n    </StartPage>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport {\n  Grid, Button, TextField, Typography, Link, makeStyles, Snackbar,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport StartPage from '../../StartPage';\nimport t from '../../common/localization';\n\nconst useStyles = makeStyles((theme) => ({\n  register: {\n    fontSize: theme.spacing(3),\n    fontWeight: 500,\n    marginLeft: theme.spacing(2),\n    textTransform: 'uppercase',\n  },\n  link: {\n    fontSize: theme.spacing(3),\n    fontWeight: 500,\n    marginTop: theme.spacing(0.5),\n    cursor: 'pointer',\n  },\n}));\n\nconst RegisterForm = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n  const submitDisabled = () => !name || !/(.+)@(.+)\\.(.{2,})/.test(email) || !password;\n\n  const handleRegister = async () => {\n    const response = await fetch('/api/users', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ name, email, password }),\n    });\n\n    if (response.ok) {\n      setSnackbarOpen(true);\n    }\n  };\n\n  return (\n    <StartPage>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={snackbarOpen}\n        onClose={() => history.push('/login')}\n        autoHideDuration={6000}\n        message={t('loginCreated')}\n      />\n      <Grid container direction=\"column\" spacing={2}>\n        <Grid container item>\n          <Grid item>\n            <Typography className={classes.link} color=\"primary\">\n              <Link onClick={() => history.push('/login')}>\n                <ArrowBackIcon />\n              </Link>\n            </Typography>\n          </Grid>\n          <Grid item xs>\n            <Typography className={classes.register} color=\"primary\">\n              {t('loginRegister')}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            label={t('sharedName')}\n            name=\"name\"\n            value={name || ''}\n            autoComplete=\"name\"\n            autoFocus\n            onChange={(event) => setName(event.target.value)}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            type=\"email\"\n            label={t('userEmail')}\n            name=\"email\"\n            value={email || ''}\n            autoComplete=\"email\"\n            onChange={(event) => setEmail(event.target.value)}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            label={t('userPassword')}\n            name=\"password\"\n            value={password || ''}\n            type=\"password\"\n            autoComplete=\"current-password\"\n            onChange={(event) => setPassword(event.target.value)}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleRegister}\n            disabled={submitDisabled()}\n            fullWidth\n          >\n            {t('loginRegister')}\n          </Button>\n        </Grid>\n      </Grid>\n    </StartPage>\n  );\n};\n\nexport default RegisterForm;\n","import React from 'react';\n\nconst ResetPasswordForm = () => (\n  <>\n    <div>Reset Password Comming Soon!!!</div>\n  </>\n);\n\nexport default ResetPasswordForm;\n","import 'mapbox-gl/dist/mapbox-gl.css';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport MapboxDraw from '@mapbox/mapbox-gl-draw';\nimport theme from '@mapbox/mapbox-gl-draw/src/lib/theme';\nimport { useEffect } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { map } from './Map';\nimport { geofenceToFeature, geometryToArea } from './mapUtil';\nimport { geofencesActions } from '../store';\n\nconst draw = new MapboxDraw({\n  displayControlsDefault: false,\n  controls: {\n    polygon: true,\n    trash: true,\n  },\n  userProperties: true,\n  styles: [...theme, {\n    id: 'gl-draw-title',\n    type: 'symbol',\n    filter: ['all'],\n    layout: {\n      'text-field': '{user_name}',\n      'text-font': ['Roboto Regular'],\n      'text-size': 12,\n    },\n    paint: {\n      'text-halo-color': 'white',\n      'text-halo-width': 1,\n    },\n  }],\n});\n\nconst GeofenceEditMap = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const geofences = useSelector((state) => Object.values(state.geofences.items));\n\n  const refreshGeofences = async () => {\n    const response = await fetch('/api/geofences');\n    if (response.ok) {\n      dispatch(geofencesActions.refresh(await response.json()));\n    }\n  };\n\n  useEffect(() => {\n    refreshGeofences();\n\n    map.addControl(draw, 'top-left');\n\n    map.on('draw.create', async (event) => {\n      const feature = event.features[0];\n      const newItem = { name: '', area: geometryToArea(feature.geometry) };\n      draw.delete(feature.id);\n      const response = await fetch('/api/geofences', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(newItem),\n      });\n      if (response.ok) {\n        const item = await response.json();\n        history.push(`/geofence/${item.id}`);\n      }\n    });\n\n    map.on('draw.delete', async (event) => {\n      const feature = event.features[0];\n      const response = await fetch(`/api/geofences/${feature.id}`, { method: 'DELETE' });\n      if (response.ok) {\n        refreshGeofences();\n      }\n    });\n\n    map.on('draw.update', async (event) => {\n      const feature = event.features[0];\n      const item = geofences.find((i) => i.id === feature.id);\n      if (item) {\n        const updatedItem = { ...item, area: geometryToArea(feature.geometry) };\n        const response = await fetch(`/api/geofences/${feature.id}`, {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(updatedItem),\n        });\n        if (response.ok) {\n          refreshGeofences();\n        }\n      }\n    });\n\n    return () => map.removeControl(draw);\n  }, []);\n\n  useEffect(() => {\n    draw.deleteAll();\n    geofences.forEach((geofence) => {\n      draw.add(geofenceToFeature(geofence));\n    });\n  }, [geofences]);\n\n  return null;\n};\n\nexport default GeofenceEditMap;\n","import React, { Fragment } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport { devicesActions } from './store';\nimport EditCollectionView from './EditCollectionView';\n\nconst useStyles = makeStyles(() => ({\n  list: {\n    maxHeight: '100%',\n    overflow: 'auto',\n  },\n  icon: {\n    width: '25px',\n    height: '25px',\n    filter: 'brightness(0) invert(1)',\n  },\n}));\n\nconst GeofenceView = ({ onMenuClick }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const items = useSelector((state) => Object.values(state.geofences.items));\n\n  return (\n    <List className={classes.list}>\n      {items.map((item, index, list) => (\n        <Fragment key={item.id}>\n          <ListItem button key={item.id} onClick={() => dispatch(devicesActions.select(item))}>\n            <ListItemText primary={item.name} />\n            <ListItemSecondaryAction>\n              <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                <MoreVertIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n          {index < list.length - 1 ? <Divider /> : null}\n        </Fragment>\n      ))}\n    </List>\n  );\n};\n\nconst GeofencesList = () => (\n  <EditCollectionView content={GeofenceView} editPath=\"/geofence\" endpoint=\"geofences\" disableAdd />\n);\n\nexport default GeofencesList;\n","import React from 'react';\nimport {\n  Divider, isWidthUp, makeStyles, withWidth, Typography, IconButton,\n} from '@material-ui/core';\nimport Drawer from '@material-ui/core/Drawer';\nimport ContainerDimensions from 'react-container-dimensions';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Map from './map/Map';\nimport CurrentLocationMap from './map/CurrentLocationMap';\nimport GeofenceEditMap from './map/GeofenceEditMap';\nimport GeofencesList from './GeofencesList';\n\nimport t from './common/localization';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n    flexGrow: 1,\n    overflow: 'hidden',\n    display: 'flex',\n    flexDirection: 'row',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column-reverse',\n    },\n  },\n  drawerPaper: {\n    position: 'relative',\n    [theme.breakpoints.up('sm')]: {\n      width: 350,\n    },\n    [theme.breakpoints.down('xs')]: {\n      height: 250,\n    },\n  },\n  drawerHeader: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n  },\n  mapContainer: {\n    flexGrow: 1,\n  },\n}));\n\nconst GeofencesPage = ({ width }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.content}>\n        <Drawer\n          anchor={isWidthUp('sm', width) ? 'left' : 'bottom'}\n          variant=\"permanent\"\n          classes={{ paper: classes.drawerPaper }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton component=\"a\" href=\"/\">\n              <ArrowBackIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n              {t('sharedGeofences')}\n            </Typography>\n          </div>\n          <Divider />\n          <GeofencesList />\n        </Drawer>\n        <div className={classes.mapContainer}>\n          <ContainerDimensions>\n            <Map>\n              <CurrentLocationMap />\n              <GeofenceEditMap />\n            </Map>\n          </ContainerDimensions>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withWidth()(GeofencesPage);\n","import t from '../common/localization';\n\nexport default {\n  speedLimit: {\n    name: t('attributeSpeedLimit'),\n    type: 'string',\n  },\n};\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from './common/localization';\nimport EditItemView from './EditItemView';\nimport EditAttributesView from './attributes/EditAttributesView';\nimport geofenceAttributes from './attributes/geofenceAttributes';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst GeofencePage = () => {\n  const classes = useStyles();\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"geofences\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={geofenceAttributes}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default GeofencePage;\n","import React from 'react';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { Switch, Route } from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { useSelector } from 'react-redux';\nimport { LinearProgress } from '@material-ui/core';\nimport MainPage from './MainPage';\nimport RouteReportPage from './reports/RouteReportPage';\nimport ServerPage from './admin/ServerPage';\nimport UsersPage from './admin/UsersPage';\nimport DevicePage from './DevicePage';\nimport UserPage from './UserPage';\nimport SocketController from './SocketController';\nimport NotificationsPage from './settings/NotificationsPage';\nimport NotificationPage from './settings/NotificationPage';\nimport GroupsPage from './settings/GroupsPage';\nimport GroupPage from './settings/GroupPage';\nimport PositionPage from './PositionPage';\nimport EventReportPage from './reports/EventReportPage';\nimport ReplayPage from './reports/ReplayPage';\nimport TripReportPage from './reports/TripReportPage';\nimport StopReportPage from './reports/StopReportPage';\nimport SummaryReportPage from './reports/SummaryReportPage';\nimport ChartReportPage from './reports/ChartReportPage';\nimport DriversPage from './settings/DriversPage';\nimport DriverPage from './settings/DriverPage';\nimport ComputedAttributesPage from './settings/ComputedAttributesPage';\nimport ComputedAttributePage from './settings/ComputedAttributePage';\nimport MaintenancesPage from './settings/MaintenancesPage';\nimport MaintenancePage from './settings/MaintenancePage';\nimport StatisticsPage from './admin/StatisticsPage';\nimport CachingController from './CachingController';\n\nimport LoginForm from './components/registration/LoginForm';\nimport RegisterForm from './components/registration/RegisterForm';\nimport ResetPasswordForm from './components/registration/ResetPasswordForm';\n\nimport theme from './theme';\nimport GeofencesPage from './GeofencesPage';\nimport GeofencePage from './GeofencePage';\n\nconst App = () => {\n  const initialized = useSelector((state) => !!state.session.server && !!state.session.user);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <SocketController />\n      <CachingController />\n      <Switch>\n        <Route exact path=\"/login\" component={LoginForm} />\n        <Route exact path=\"/register\" component={RegisterForm} />\n        <Route exact path=\"/reset-password\" component={ResetPasswordForm} />\n        <Route>\n          {!initialized ? (<LinearProgress />) : (\n            <Switch>\n              <Route exact path=\"/\" component={MainPage} />\n              <Route exact path=\"/replay\" component={ReplayPage} />\n              <Route exact path=\"/position/:id?\" component={PositionPage} />\n              <Route exact path=\"/user/:id?\" component={UserPage} />\n              <Route exact path=\"/device/:id?\" component={DevicePage} />\n              <Route exact path=\"/geofence/:id?\" component={GeofencePage} />\n              <Route exact path=\"/geofences\" component={GeofencesPage} />\n              <Route exact path=\"/settings/notifications\" component={NotificationsPage} />\n              <Route exact path=\"/settings/notification/:id?\" component={NotificationPage} />\n              <Route exact path=\"/settings/groups\" component={GroupsPage} />\n              <Route exact path=\"/settings/group/:id?\" component={GroupPage} />\n              <Route exact path=\"/settings/drivers\" component={DriversPage} />\n              <Route exact path=\"/settings/driver/:id?\" component={DriverPage} />\n              <Route exact path=\"/settings/attributes\" component={ComputedAttributesPage} />\n              <Route exact path=\"/settings/attribute/:id?\" component={ComputedAttributePage} />\n              <Route exact path=\"/settings/maintenances\" component={MaintenancesPage} />\n              <Route exact path=\"/settings/maintenance/:id?\" component={MaintenancePage} />\n              <Route exact path=\"/admin/server\" component={ServerPage} />\n              <Route exact path=\"/admin/users\" component={UsersPage} />\n              <Route exact path=\"/admin/statistics\" component={StatisticsPage} />\n              <Route exact path=\"/reports/route\" component={RouteReportPage} />\n              <Route exact path=\"/reports/event\" component={EventReportPage} />\n              <Route exact path=\"/reports/trip\" component={TripReportPage} />\n              <Route exact path=\"/reports/stop\" component={StopReportPage} />\n              <Route exact path=\"/reports/summary\" component={SummaryReportPage} />\n              <Route exact path=\"/reports/chart\" component={ChartReportPage} />\n            </Switch>\n          )}\n        </Route>\n      </Switch>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import 'typeface-roboto';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\n\nReactDOM.render((\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n), document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}